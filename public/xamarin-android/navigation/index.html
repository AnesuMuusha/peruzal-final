<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=https://github.com/Peruzal/xamarin-android-guide/navigation/ rel=canonical><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../images/favicon.ico><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.0"><title>Navigation - Xamarin Android Guide - Peruzal</title><link rel=stylesheet href=../assets/stylesheets/application.0284f74d.css><link rel=stylesheet href=../assets/stylesheets/application-palette.01803549.css><meta name=theme-color content=#fb8c00><script src=../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=orange> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#android-navigation tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://github.com/Peruzal/xamarin-android-guide title="Xamarin Android Guide - Peruzal" class="md-header-nav__button md-logo"> <img src=../images/logo.png width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Xamarin Android Guide - Peruzal </span> <span class=md-header-nav__topic> Navigation </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/Peruzal/xamarin-android-guide/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> Github </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://github.com/Peruzal/xamarin-android-guide title="Xamarin Android Guide - Peruzal" class="md-nav__button md-logo"> <img src=../images/logo.png width=48 height=48> </a> Xamarin Android Guide - Peruzal </label> <div class=md-nav__source> <a href=https://github.com/Peruzal/xamarin-android-guide/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> Github </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../hello-xamarin-android/ title="Hello Xamarin.Android" class=md-nav__link> Hello Xamarin.Android </a> </li> <li class=md-nav__item> <a href=../android-components/ title="Android Components" class=md-nav__link> Android Components </a> </li> <li class=md-nav__item> <a href=../android-views/ title="Android Views" class=md-nav__link> Android Views </a> </li> <li class=md-nav__item> <a href=../common-views/ title="Common Views" class=md-nav__link> Common Views </a> </li> <li class=md-nav__item> <a href=../menus/ title=Menus class=md-nav__link> Menus </a> </li> <li class=md-nav__item> <a href=../app-resources/ title="App Resources" class=md-nav__link> App Resources </a> </li> <li class=md-nav__item> <a href=../layouts/ title=Layouts class=md-nav__link> Layouts </a> </li> <li class=md-nav__item> <a href=../activities/ title=Activities class=md-nav__link> Activities </a> </li> <li class=md-nav__item> <a href=../recyclerview/ title=RecyclerView class=md-nav__link> RecyclerView </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Navigation </label> <a href=./ title=Navigation class="md-nav__link md-nav__link--active"> Navigation </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#common-navigation-paradigms title="Common Navigation Paradigms" class=md-nav__link> Common Navigation Paradigms </a> </li> <li class=md-nav__item> <a href=#stack-based-navigation-navigation-with-intents title="Stack Based Navigation Navigation with Intents" class=md-nav__link> Stack Based Navigation Navigation with Intents </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explicit-intents title="Explicit Intents" class=md-nav__link> Explicit Intents </a> </li> <li class=md-nav__item> <a href=#passing-data-to-launched-activities title="Passing Data to Launched Activities" class=md-nav__link> Passing Data to Launched Activities </a> </li> <li class=md-nav__item> <a href=#returning-data-result-to-parent-activity title="Returning Data Result to Parent Activity" class=md-nav__link> Returning Data Result to Parent Activity </a> </li> <li class=md-nav__item> <a href=#passing-complex-data-in-a-bundle title="Passing Complex Data in a Bundle" class=md-nav__link> Passing Complex Data in a Bundle </a> </li> <li class=md-nav__item> <a href=#implicit-intents title="Implicit Intents" class=md-nav__link> Implicit Intents </a> </li> <li class=md-nav__item> <a href=#receiving-implicit-intents title="Receiving Implicit Intents" class=md-nav__link> Receiving Implicit Intents </a> </li> <li class=md-nav__item> <a href=#default-link-handling title="Default link handling" class=md-nav__link> Default link handling </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#swipe-and-tabbed-navigation-with-viewpager-and-tablayout title="Swipe and Tabbed Navigation with ViewPager and TabLayout" class=md-nav__link> Swipe and Tabbed Navigation with ViewPager and TabLayout </a> </li> <li class=md-nav__item> <a href=#navigation-drawer title="Navigation Drawer" class=md-nav__link> Navigation Drawer </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#usage title=Usage class=md-nav__link> Usage </a> </li> <li class=md-nav__item> <a href=#setup title=Setup class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=#making-status-bar-translucent title="Making Status Bar Translucent" class=md-nav__link> Making Status Bar Translucent </a> </li> <li class=md-nav__item> <a href=#adding-custom-views-to-navigation-drawer title="Adding custom views to navigation drawer" class=md-nav__link> Adding custom views to navigation drawer </a> </li> <li class=md-nav__item> <a href=#persistent-navigation-drawer title="Persistent Navigation Drawer" class=md-nav__link> Persistent Navigation Drawer </a> </li> <li class=md-nav__item> <a href=#limitations title=Limitations class=md-nav__link> Limitations </a> </li> <li class=md-nav__item> <a href=#alternative-to-fragments title="Alternative to Fragments" class=md-nav__link> Alternative to Fragments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#references title=References class=md-nav__link> References </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../fragments/ title=Fragments class=md-nav__link> Fragments </a> </li> <li class=md-nav__item> <a href=../dialogs/ title="Dialogs and Pickers" class=md-nav__link> Dialogs and Pickers </a> </li> <li class=md-nav__item> <a href=../common-intents/ title="Common Intents" class=md-nav__link> Common Intents </a> </li> <li class=md-nav__item> <a href=../networking/ title=Networking class=md-nav__link> Networking </a> </li> <li class=md-nav__item> <a href=../permissions/ title=Permissions class=md-nav__link> Permissions </a> </li> <li class=md-nav__item> <a href=../persistence/ title=Persistence class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../styles-and-themes/ title="Styles and Themes" class=md-nav__link> Styles and Themes </a> </li> <li class=md-nav__item> <a href=../animations/ title=Animation class=md-nav__link> Animation </a> </li> <li class=md-nav__item> <a href=../notifications/ title=Notifications class=md-nav__link> Notifications </a> </li> <li class=md-nav__item> <a href=../broadcast-receivers/ title="Broadcast Receivers" class=md-nav__link> Broadcast Receivers </a> </li> <li class=md-nav__item> <a href=../services/ title=Services class=md-nav__link> Services </a> </li> <li class=md-nav__item> <a href=../scheduling-alarms/ title="Scheduling Alarms" class=md-nav__link> Scheduling Alarms </a> </li> <li class=md-nav__item> <a href=../maps-and-location/ title="Maps and Location" class=md-nav__link> Maps and Location </a> </li> <li class=md-nav__item> <a href=../testing/ title=Testing class=md-nav__link> Testing </a> </li> <li class=md-nav__item> <a href=../third-party-libraries/ title="Third Party Libraries" class=md-nav__link> Third Party Libraries </a> </li> <li class=md-nav__item> <a href=../deployment/ title=Deployment class=md-nav__link> Deployment </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#common-navigation-paradigms title="Common Navigation Paradigms" class=md-nav__link> Common Navigation Paradigms </a> </li> <li class=md-nav__item> <a href=#stack-based-navigation-navigation-with-intents title="Stack Based Navigation Navigation with Intents" class=md-nav__link> Stack Based Navigation Navigation with Intents </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explicit-intents title="Explicit Intents" class=md-nav__link> Explicit Intents </a> </li> <li class=md-nav__item> <a href=#passing-data-to-launched-activities title="Passing Data to Launched Activities" class=md-nav__link> Passing Data to Launched Activities </a> </li> <li class=md-nav__item> <a href=#returning-data-result-to-parent-activity title="Returning Data Result to Parent Activity" class=md-nav__link> Returning Data Result to Parent Activity </a> </li> <li class=md-nav__item> <a href=#passing-complex-data-in-a-bundle title="Passing Complex Data in a Bundle" class=md-nav__link> Passing Complex Data in a Bundle </a> </li> <li class=md-nav__item> <a href=#implicit-intents title="Implicit Intents" class=md-nav__link> Implicit Intents </a> </li> <li class=md-nav__item> <a href=#receiving-implicit-intents title="Receiving Implicit Intents" class=md-nav__link> Receiving Implicit Intents </a> </li> <li class=md-nav__item> <a href=#default-link-handling title="Default link handling" class=md-nav__link> Default link handling </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#swipe-and-tabbed-navigation-with-viewpager-and-tablayout title="Swipe and Tabbed Navigation with ViewPager and TabLayout" class=md-nav__link> Swipe and Tabbed Navigation with ViewPager and TabLayout </a> </li> <li class=md-nav__item> <a href=#navigation-drawer title="Navigation Drawer" class=md-nav__link> Navigation Drawer </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#usage title=Usage class=md-nav__link> Usage </a> </li> <li class=md-nav__item> <a href=#setup title=Setup class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=#making-status-bar-translucent title="Making Status Bar Translucent" class=md-nav__link> Making Status Bar Translucent </a> </li> <li class=md-nav__item> <a href=#adding-custom-views-to-navigation-drawer title="Adding custom views to navigation drawer" class=md-nav__link> Adding custom views to navigation drawer </a> </li> <li class=md-nav__item> <a href=#persistent-navigation-drawer title="Persistent Navigation Drawer" class=md-nav__link> Persistent Navigation Drawer </a> </li> <li class=md-nav__item> <a href=#limitations title=Limitations class=md-nav__link> Limitations </a> </li> <li class=md-nav__item> <a href=#alternative-to-fragments title="Alternative to Fragments" class=md-nav__link> Alternative to Fragments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#references title=References class=md-nav__link> References </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/Peruzal/xamarin-android-guide/edit/master/docs/navigation.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=android-navigation>Android Navigation<a class=headerlink href=#android-navigation title="Permanent link">&para;</a></h1> <h2 id=common-navigation-paradigms>Common Navigation Paradigms<a class=headerlink href=#common-navigation-paradigms title="Permanent link">&para;</a></h2> <p>Navigation between views is an important part of any application. There are several ways to setup navigation in an Android application:</p> <ul> <li><a href=http://developer.android.com/training/implementing-navigation/lateral.html>Swipe Views</a> - Allow paging between views using a swipe gesture</li> <li><a href=http://developer.android.com/training/implementing-navigation/nav-drawer.html>Navigation Drawer</a> - Displays a vertical menu that slides in to allow navigation between views </li> <li><a href=http://developer.android.com/design/patterns/actionbar.html>ActionBar</a> - Using the ActionBar and/or ActionBar tabs to switch between different views</li> <li><a href=http://developer.android.com/training/design-navigation/descendant-lateral.html#buttons>Screen Map</a> - Providing a series of buttons on screen that can be pressed to visit different views</li> </ul> <p>These four represent the most common navigation paradigms in Android applications. The specifics for how to implement these can be found in the various links above.</p> <h2 id=stack-based-navigation-navigation-with-intents>Stack Based Navigation Navigation with Intents<a class=headerlink href=#stack-based-navigation-navigation-with-intents title="Permanent link">&para;</a></h2> <p>Intent is a powerful concept within the Android universe. An intent is a message that can be thought of as a request that is given to either an activity within your own app, an external application, or a built-in Android service.</p> <p>Think of an intent as a way for an Activity to communicate with the outside Android world. A few key tasks that an intent might be used for within your apps:</p> <ul> <li>Take the user to another screen (activity) within your application</li> <li>Take the user to a particular URL within the Android web browser</li> <li>Take the user to the camera to have them take a picture</li> <li>Initiate a call for the user to a given number</li> </ul> <p>As you can see, the Intent is a core part of user flows in Android development. The <a href=http://developer.android.com/reference/android/content/Intent.html>Intent</a> object itself is a class that represents a particular "request" including the topic of the request and any request "parameters" which are called the <a href=http://developer.android.com/reference/android/os/Bundle.html>Bundle</a>. </p> <h3 id=explicit-intents>Explicit Intents<a class=headerlink href=#explicit-intents title="Permanent link">&para;</a></h3> <p>An "explicit" intent is used to launch other activities within your application. For example, if you the user presses the "compose" button and you want to bring up an activity for them to compose a message, you would launch that second activity using an explicit intent.</p> <p>Using an intent is as simple as constructing the <a href=http://developer.android.com/reference/android/content/Intent.html>Intent</a> with the correct parameters and then invoking that intent using the <code>startActivity</code> method:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>public</span> <span class=n>void</span> <span class=n>launchComposeView</span><span class=p>()</span> <span class=err>{</span>
    <span class=o>//</span> <span class=k>first</span> <span class=k>parameter</span> <span class=k>is</span> <span class=n>the</span> <span class=n>context</span><span class=p>,</span> <span class=k>second</span> <span class=k>is</span> <span class=n>the</span> <span class=k>type</span> <span class=k>of</span> <span class=k>class</span> <span class=k>of</span> <span class=n>the</span> <span class=n>activity</span> <span class=k>to</span> <span class=n>launch</span>
    <span class=o>//</span> <span class=k>Get</span> <span class=n>our</span> <span class=n>button</span> <span class=k>from</span> <span class=n>the</span> <span class=n>layout</span> <span class=n>resource</span><span class=p>,</span>
    <span class=o>//</span> <span class=k>and</span> <span class=n>attach</span> <span class=n>an</span> <span class=n>event</span> <span class=k>to</span> <span class=n>it</span>
    <span class=n>Button</span> <span class=n>button</span> <span class=o>=</span> <span class=n>FindViewById</span><span class=o>&lt;</span><span class=n>Button</span><span class=o>&gt;</span><span class=p>(</span><span class=n>Resource</span><span class=p>.</span><span class=n>Id</span><span class=p>.</span><span class=n>myButton</span><span class=p>);</span>
    <span class=n>button</span><span class=p>.</span><span class=n>Click</span> <span class=o>+=</span> <span class=n>delegate</span> <span class=err>{</span>
        <span class=n>var</span> <span class=n>intent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>(</span><span class=n>this</span><span class=p>,</span> <span class=n>typeof</span><span class=p>(</span><span class=n>SecondActivity</span><span class=p>));</span>
        <span class=n>StartActivity</span><span class=p>(</span><span class=n>intent</span><span class=p>);</span> <span class=o>//</span><span class=n>Launch</span> <span class=n>the</span> <span class=k>Second</span> <span class=n>activity</span>
    <span class=err>}</span><span class=p>;</span>
<span class=err>}</span>
</pre></div> </td></tr></table> <p>Now, in the launched second activity, the user can go back to the first screen by hitting "back" or if the developer wants to trigger the second activity to close, we need only call the <a href=http://developer.android.com/reference/android/app/Activity.html#finish()><code>finish</code> method</a>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>public</span> <span class=n>void</span> <span class=n>onSubmit</span><span class=p>(</span><span class=k>View</span> <span class=n>v</span><span class=p>)</span> <span class=err>{</span>
  <span class=o>//</span> <span class=n>closes</span> <span class=n>the</span> <span class=n>activity</span> <span class=k>and</span> <span class=k>returns</span> <span class=k>to</span> <span class=k>first</span> <span class=n>screen</span>
  <span class=n>this</span><span class=p>.</span><span class=n>Finish</span><span class=p>();</span> 
<span class=err>}</span>
</pre></div> </td></tr></table> <p><strong>Note:</strong> The first argument of the Intent constructor used above is a <a href=http://developer.android.com/reference/android/content/Context.html>Context</a> which at the moment is just the current Activity in scope.</p> <h3 id=passing-data-to-launched-activities>Passing Data to Launched Activities<a class=headerlink href=#passing-data-to-launched-activities title="Permanent link">&para;</a></h3> <p>In addition to specifying the activity that we want to display, an intent can also pass key-value data between activities. Think of this as specifying the "request parameters" for an HTTP Request. You can specify the parameters by putting key-value pairs into the intent bundle:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>//</span> <span class=nv>ActivityOne</span>.<span class=nv>java</span>
<span class=nv>public</span> <span class=nv>void</span> <span class=nv>launchComposeView</span><span class=ss>()</span> {
  <span class=o>//</span> <span class=nv>first</span> <span class=nv>parameter</span> <span class=nv>is</span> <span class=nv>the</span> <span class=nv>context</span>, <span class=nv>second</span> <span class=nv>is</span> <span class=nv>the</span> <span class=nv>class</span> <span class=nv>of</span> <span class=nv>the</span> <span class=nv>activity</span> <span class=nv>to</span> <span class=nv>launch</span>
  <span class=nv>Intent</span> <span class=nv>i</span> <span class=o>=</span> <span class=nv>new</span> <span class=nv>Intent</span><span class=ss>(</span><span class=nv>ActivityOne</span>.<span class=nv>this</span>, <span class=nv>ActivityTwo</span>.<span class=nv>class</span><span class=ss>)</span><span class=c1>;</span>
  <span class=o>//</span> <span class=nv>put</span> <span class=s2>&quot;</span><span class=s>extras</span><span class=s2>&quot;</span> <span class=nv>into</span> <span class=nv>the</span> <span class=nv>bundle</span> <span class=k>for</span> <span class=nv>access</span> <span class=nv>in</span> <span class=nv>the</span> <span class=nv>second</span> <span class=nv>activity</span>
  <span class=nv>i</span>.<span class=nv>putExtra</span><span class=ss>(</span><span class=s2>&quot;</span><span class=s>username</span><span class=s2>&quot;</span>, <span class=s2>&quot;</span><span class=s>foobar</span><span class=s2>&quot;</span><span class=ss>)</span><span class=c1>; </span>
  <span class=nv>i</span>.<span class=nv>putExtra</span><span class=ss>(</span><span class=s2>&quot;</span><span class=s>in_reply_to</span><span class=s2>&quot;</span>, <span class=s2>&quot;</span><span class=s>george</span><span class=s2>&quot;</span><span class=ss>)</span><span class=c1>; </span>
  <span class=nv>i</span>.<span class=nv>putExtra</span><span class=ss>(</span><span class=s2>&quot;</span><span class=s>code</span><span class=s2>&quot;</span>, <span class=mi>400</span><span class=ss>)</span><span class=c1>;</span>
  <span class=o>//</span> <span class=nv>brings</span> <span class=nv>up</span> <span class=nv>the</span> <span class=nv>second</span> <span class=nv>activity</span>
  <span class=nv>StartActivity</span><span class=ss>(</span><span class=nv>i</span><span class=ss>)</span><span class=c1>; </span>
}
</pre></div> </td></tr></table> <p>Once you have added data into the bundle, you can easily access that data within the launched activity:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>//</span> <span class=nv>SecondActivity</span>.<span class=nv>cs</span> <span class=ss>(</span><span class=nv>subactivity</span><span class=ss>)</span> <span class=nv>can</span> <span class=nv>access</span> <span class=nv>any</span> <span class=nv>extras</span> <span class=nv>passed</span> <span class=nv>in</span>
<span class=nv>protected</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>onCreate</span><span class=ss>(</span><span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span> {
    <span class=o>//</span><span class=nv>The</span> <span class=nv>Intent</span> <span class=nv>property</span> <span class=nv>holds</span> <span class=nv>the</span> <span class=nv>bundle</span> <span class=nv>with</span> <span class=nv>the</span> <span class=nv>values</span> <span class=nv>of</span> <span class=nv>the</span> <span class=nv>intent</span>
    <span class=k>if</span> <span class=ss>(</span><span class=nv>Intent</span> <span class=o>!=</span> <span class=nv>null</span><span class=ss>)</span> {
        <span class=o>//</span><span class=nv>Get</span> <span class=nv>the</span> <span class=nv>username</span>
        <span class=nv>var</span> <span class=nv>username</span> <span class=o>=</span> <span class=nv>Intent</span>.<span class=nv>GetStringExtra</span><span class=ss>(</span><span class=s2>&quot;</span><span class=s>username</span><span class=s2>&quot;</span><span class=ss>)</span><span class=c1>;</span>
        <span class=o>//</span><span class=nv>The</span> <span class=mi>0</span> <span class=nv>is</span> <span class=nv>the</span> <span class=nv>default</span> <span class=nv>value</span> <span class=k>if</span> <span class=nv>the</span> <span class=nv>key</span> <span class=nv>is</span> <span class=nv>not</span> <span class=nv>found</span>
        <span class=nv>var</span> <span class=nv>gameScore</span> <span class=o>=</span> <span class=nv>Intent</span>.<span class=nv>GetIntExtra</span><span class=ss>(</span><span class=s2>&quot;</span><span class=s>game_score</span><span class=s2>&quot;</span>, <span class=mi>0</span><span class=ss>)</span><span class=c1>;</span>
    }
}
</pre></div> </td></tr></table> <p>And using this system the intent can pass useful data across activities.</p> <h3 id=returning-data-result-to-parent-activity>Returning Data Result to Parent Activity<a class=headerlink href=#returning-data-result-to-parent-activity title="Permanent link">&para;</a></h3> <p>In the typical case of using <code>startActivity</code>, the activity is launched and added to the navigation stack and no result is expected. If the user wants to close the activity, the user can simply hit "back" and the parent activity is displayed. </p> <p>However, in other cases the parent activity may want the launched activity to return a result back when it is finished. In this case, we use a different method to launch called <code>startActivityForResult</code> which allows the parent to retrieve the result based on a code that is returned (akin to an HTTP code).</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>var</span> <span class=n>resultButton</span> <span class=o>=</span> <span class=n>FindViewById</span><span class=o>&lt;</span><span class=n>Button</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>Resource</span><span class=p>.</span><span class=n>Id</span><span class=p>.</span><span class=n>resultButton</span><span class=p>);</span>

<span class=n>resultButton</span><span class=p>.</span><span class=n>Click</span> <span class=o>+=</span> <span class=n>delegate</span> <span class=err>{</span>
  <span class=n>var</span> <span class=n>myIntent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Intent</span> <span class=p>(</span><span class=n>this</span><span class=p>,</span> <span class=n>typeof</span><span class=p>(</span><span class=n>SecondActivity</span><span class=p>));</span>
  <span class=n>StartActivityForResult</span> <span class=p>(</span><span class=n>myIntent</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
<span class=err>}</span><span class=p>;</span>
<span class=err>}</span>
</pre></div> </td></tr></table> <p>This will launch the subactivity, and when the subactivity is complete then it can return the result to the parent:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span>    <span class=nv>var</span> <span class=nv>helloButton</span> <span class=o>=</span> <span class=nv>FindViewById</span><span class=o>&lt;</span><span class=nv>Button</span><span class=o>&gt;</span> <span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>helloButton</span><span class=ss>)</span><span class=c1>;</span>

    <span class=nv>helloButton</span>.<span class=nv>Click</span> <span class=o>+=</span> <span class=nv>delegate</span> {
    <span class=nv>Intent</span> <span class=nv>myIntent</span> <span class=o>=</span> <span class=nv>new</span> <span class=nv>Intent</span> <span class=ss>(</span><span class=nv>this</span>, <span class=nv>typeof</span><span class=ss>(</span><span class=nv>FirstActivity</span><span class=ss>))</span><span class=c1>;</span>
    <span class=nv>myIntent</span>.<span class=nv>PutExtra</span> <span class=ss>(</span><span class=s2>&quot;</span><span class=s>greeting</span><span class=s2>&quot;</span>, <span class=s2>&quot;</span><span class=s>Hello from the Second Activity!</span><span class=s2>&quot;</span><span class=ss>)</span><span class=c1>; //Data tos end back</span>
    <span class=nv>SetResult</span> <span class=ss>(</span><span class=nb>Result</span>.<span class=nv>Ok</span>, <span class=nv>myIntent</span><span class=ss>)</span><span class=c1>; // set result code and bundle data for response</span>
    <span class=nv>Finish</span><span class=ss>()</span><span class=c1>; // closes the activity, pass data to parent</span>
    }<span class=c1>;</span>
</pre></div> </td></tr></table> <p>Once the sub-activity finishes, the <code>OnActivityResult()</code> method in the calling activity is be invoked:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>ActivityOne</span>.<span class=nv>java</span>, <span class=nv>time</span> <span class=nv>to</span> <span class=nv>handle</span> <span class=nv>the</span> <span class=nb>result</span> <span class=nv>of</span> <span class=nv>the</span> <span class=nv>sub</span><span class=o>-</span><span class=nv>activity</span>
<span class=nv>protected</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnActivityResult</span><span class=ss>(</span><span class=nv>int</span> <span class=nv>requestCode</span>, <span class=nb>Result</span> <span class=nv>resultCode</span>, <span class=nv>Intent</span> <span class=nv>data</span><span class=ss>)</span>
{
  <span class=nv>base</span>.<span class=nv>OnActivityResult</span><span class=ss>(</span><span class=nv>requestCode</span>, <span class=nv>resultCode</span>, <span class=nv>data</span><span class=ss>)</span><span class=c1>;</span>
  <span class=k>if</span> <span class=ss>(</span><span class=nv>resultCode</span> <span class=o>==</span> <span class=nb>Result</span>.<span class=nv>Ok</span><span class=ss>)</span> {
     <span class=nv>var</span> <span class=nv>helloLabel</span> <span class=o>=</span> <span class=nv>FindViewById</span><span class=o>&lt;</span><span class=nv>TextView</span><span class=o>&gt;</span> <span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>helloLabel</span><span class=ss>)</span><span class=c1>;</span>
     <span class=nv>helloLabel</span>.<span class=nv>Text</span> <span class=o>=</span> <span class=nv>data</span>.<span class=nv>GetStringExtra</span><span class=ss>(</span><span class=s2>&quot;</span><span class=s>greeting</span><span class=s2>&quot;</span><span class=ss>)</span><span class=c1>;</span>
  }
}
</pre></div> </td></tr></table> <p>And using that process you can communicate data freely between different activities in your application.</p> <h3 id=passing-complex-data-in-a-bundle>Passing Complex Data in a Bundle<a class=headerlink href=#passing-complex-data-in-a-bundle title="Permanent link">&para;</a></h3> <p>To pass complex data and models and then pass them in the intent extras.</p> <h3 id=implicit-intents>Implicit Intents<a class=headerlink href=#implicit-intents title="Permanent link">&para;</a></h3> <p>Implicit Intents are requests to perform an action based on a desired action and target data. This is in contrast to an explicit intent that targets a specific activity. For example, if I want to make a phone call for the user, that can be done with this intent:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span>  <span class=nt>Intent</span> <span class=nt>callIntent</span> <span class=o>=</span> <span class=nt>new</span> <span class=nt>Intent</span><span class=o>(</span><span class=nt>Intent</span><span class=p>.</span><span class=nc>ActionCall</span><span class=o>);</span>
  <span class=nt>callIntent</span><span class=p>.</span><span class=nc>SetData</span><span class=o>(</span> <span class=nt>Android</span><span class=p>.</span><span class=nc>Net</span><span class=p>.</span><span class=nc>Uri</span><span class=p>.</span><span class=nc>Parse</span><span class=o>(</span><span class=s2>&quot;tel:3777789888&quot;</span><span class=o>));</span>
  <span class=nt>StartActivity</span><span class=o>(</span><span class=nt>callIntent</span><span class=o>);</span>
</pre></div> </td></tr></table> <div class="admonition danger"> <p class=admonition-title>Permission is required</p> <p>You will need permission in order to make a phone call. Add the <code>android.permission.CALL_PHONE</code> in the <code>AndroidManifest.xml</code>. For more on permissions read this blog post, <a href=https://blog.xamarin.com/requesting-runtime-permissions-in-android-marshmallow/ >https://blog.xamarin.com/requesting-runtime-permissions-in-android-marshmallow/</a></p> </div> <p>If I want to launch a website in the phone's browser, I might do this:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>Intent</span> <span class=nt>browserIntent</span> <span class=o>=</span> <span class=nt>new</span> <span class=nt>Intent</span><span class=o>(</span><span class=nt>Intent</span><span class=p>.</span><span class=nc>ActionView</span><span class=o>,</span> <span class=nt>Android</span><span class=p>.</span><span class=nc>Net</span><span class=p>.</span><span class=nc>Uri</span><span class=p>.</span><span class=nc>Parse</span><span class=o>(</span><span class=s2>&quot;http://www.google.com&quot;</span><span class=o>));</span>
<span class=nt>StartActivity</span><span class=o>(</span><span class=nt>browserIntent</span><span class=o>);</span>
</pre></div> </td></tr></table> <h3 id=receiving-implicit-intents>Receiving Implicit Intents<a class=headerlink href=#receiving-implicit-intents title="Permanent link">&para;</a></h3> <p>If we wish to receive implicit intents, you need to associate intent filters with your activity. You can also enable links within a view page to launch your app using <a href=https://developer.android.com/training/app-indexing/deep-linking.html>deep links</a>. You can also create custom URL schemes (i.e. instead of http:// you can create example://) patterns that are primarily meant to launch your app as well. </p> <p>Make sure to specify <code>android.intent.category.DEFAULT</code> category to declare that the activity should receive implicit intents. Otherwise, the activity can only respond to explicit intents. You also need to declare what type of implicit intent action to which it responds with the <code>&lt;action&gt;</code> tag. The list of possible actions are shown in the <code>Standard Activity Actions</code> section <a href=https://developer.android.com/reference/android/content/Intent.html>here</a>.</p> <p>If you wish to receive a share intent from Chrome, for instance, you have to declare an activity will be responsible for processing the data in your <code>AndroidManifest.xml</code> file:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;activity</span>
    <span class=na>android:name=</span><span class=s>&quot;com.peruzal.ReceiveIntentDataActivity&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;intent-filter&gt;</span>
        <span class=nt>&lt;action</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.action.SEND&quot;</span><span class=nt>/&gt;</span>
        <span class=nt>&lt;category</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.category.DEFAULT&quot;</span><span class=nt>/&gt;</span>
        <span class=nt>&lt;data</span> <span class=na>android:mimeType=</span><span class=s>&quot;text/plain&quot;</span><span class=nt>&gt;&lt;/data&gt;</span>
    <span class=nt>&lt;/intent-filter&gt;</span>
</pre></div> </td></tr></table> <p>Receiving the data entails receiving the intent data:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>protected</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
{
  <span class=nv>base</span>.<span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>savedInstanceState</span><span class=ss>)</span><span class=c1>;</span>

  <span class=o>//</span> <span class=nv>Set</span> <span class=nv>our</span> <span class=nv>view</span> <span class=nv>from</span> <span class=nv>the</span> <span class=s2>&quot;</span><span class=s>main</span><span class=s2>&quot;</span> <span class=nv>layout</span> <span class=nv>resource</span>
  <span class=nv>SetContentView</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Layout</span>.<span class=nv>Main</span><span class=ss>)</span><span class=c1>;</span>

  <span class=o>//</span> <span class=nv>Get</span> <span class=nv>intent</span>, <span class=nv>action</span> <span class=nv>and</span> <span class=nv>MIME</span> <span class=nv>type</span>
  <span class=nv>String</span> <span class=nv>action</span> <span class=o>=</span> <span class=nv>Intent</span>.<span class=nv>Action</span><span class=c1>;</span>
  <span class=o>//</span><span class=nv>Get</span> <span class=nv>intent</span> <span class=nv>type</span>
  <span class=nv>String</span> <span class=nv>type</span> <span class=o>=</span> <span class=nv>Intent</span>.<span class=nv>Type</span><span class=c1>;</span>
  <span class=o>//</span><span class=nv>Check</span> <span class=k>if</span> <span class=nv>intent</span> <span class=nv>matches</span> <span class=nv>type</span> <span class=nv>and</span> <span class=nv>action</span>
  <span class=k>if</span> <span class=ss>(</span><span class=nv>Intent</span>.<span class=nv>ActionSend</span>.<span class=nv>Equals</span><span class=ss>(</span><span class=nv>action</span><span class=ss>)</span> <span class=o>&amp;&amp;</span> <span class=nv>type</span> <span class=o>!=</span> <span class=nv>null</span><span class=ss>)</span>
  {
    <span class=k>if</span> <span class=ss>(</span><span class=s2>&quot;</span><span class=s>text/plain</span><span class=s2>&quot;</span>.<span class=nv>Equals</span><span class=ss>(</span><span class=nv>type</span><span class=ss>))</span>
    {

      <span class=o>//</span> <span class=nv>Make</span> <span class=nv>sure</span> <span class=nv>to</span> <span class=nv>check</span> <span class=nv>whether</span> <span class=nv>returned</span> <span class=nv>data</span> <span class=nv>will</span> <span class=nv>be</span> <span class=nv>null</span>.
      <span class=nv>String</span> <span class=nv>titleOfPage</span> <span class=o>=</span> <span class=nv>Intent</span>.<span class=nv>GetStringExtra</span><span class=ss>(</span><span class=nv>Intent</span>.<span class=nv>ExtraSubject</span><span class=ss>)</span><span class=c1>;</span>
      <span class=nv>String</span> <span class=nv>urlOfPage</span> <span class=o>=</span> <span class=nv>Intent</span>.<span class=nv>GetStringExtra</span><span class=ss>(</span><span class=nv>Intent</span>.<span class=nv>ExtraText</span><span class=ss>)</span><span class=c1>;</span>
      <span class=nv>var</span> <span class=nv>imageUriOfPage</span> <span class=o>=</span> <span class=ss>(</span><span class=nv>Android</span>.<span class=nv>Net</span>.<span class=nv>Uri</span><span class=ss>)</span><span class=nv>Intent</span>.<span class=nv>GetParcelableExtra</span><span class=ss>(</span><span class=nv>Intent</span>.<span class=nv>ExtraStream</span><span class=ss>)</span><span class=c1>;</span>
    }
  }
</pre></div> </td></tr></table> <p>See <a href=https://paul.kinlan.me/parsing-screenshot-from-Chrome-for-Android-send-intent/ >this article</a> for more details about parsing data from Chrome.</p> <p>If you wish for a web page link to be able to launch an activity, make sure to also specify the BROWSABLE category as well. You should also specify the <code>&lt;data&gt;</code> tag to specify what URL pattern to scan for:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span>    <span class=nt>&lt;intent-filter&gt;</span>
        <span class=nt>&lt;action</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.action.SEND&quot;</span><span class=nt>/&gt;</span>
        <span class=nt>&lt;category</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.category.BROWSABLE&quot;</span> <span class=nt>/&gt;</span>
        <span class=nt>&lt;category</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.category.DEFAULT&quot;</span><span class=nt>/&gt;</span>
        <span class=nt>&lt;data</span> <span class=na>android:scheme=</span><span class=s>&quot;http&quot;</span>
              <span class=na>android:host=</span><span class=s>&quot;www.peruzal.com&quot;</span>
              <span class=na>android:pathPrefix=</span><span class=s>&quot;/example&quot;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;/intent-filter&gt;</span>
</pre></div> </td></tr></table> <p>Receiving the specific URL being requested entails calling <code>getData()</code> on the intent:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>protected</span> <span class=n>override</span> <span class=n>void</span> <span class=n>OnCreate</span><span class=p>(</span><span class=n>Bundle</span> <span class=n>savedInstanceState</span><span class=p>)</span>
<span class=err>{</span>
  <span class=n>base</span><span class=p>.</span><span class=n>OnCreate</span><span class=p>(</span><span class=n>savedInstanceState</span><span class=p>);</span>

  <span class=o>//</span> <span class=k>Set</span> <span class=n>our</span> <span class=k>view</span> <span class=k>from</span> <span class=n>the</span> <span class=ss>&quot;main&quot;</span> <span class=n>layout</span> <span class=n>resource</span>
  <span class=n>SetContentView</span><span class=p>(</span><span class=n>Resource</span><span class=p>.</span><span class=n>Layout</span><span class=p>.</span><span class=n>Main</span><span class=p>);</span>

  <span class=n>String</span> <span class=n>action</span> <span class=o>=</span> <span class=n>Intent</span><span class=p>.</span><span class=n>Action</span><span class=p>;</span>
  <span class=n>Android</span><span class=p>.</span><span class=n>Net</span><span class=p>.</span><span class=n>Uri</span> <span class=k>data</span> <span class=o>=</span> <span class=n>Intent</span><span class=p>.</span><span class=k>Data</span><span class=p>;</span>
<span class=err>}</span>
</pre></div> </td></tr></table> <p>You can also receive more complex data types as shown in this <a href=https://developer.android.com/training/sharing/receive.html>guide</a>.</p> <p>You can also use the <a href=https://github.com/airbnb/DeepLinkDispatch>DeepLinkDispatch</a> library to makes it easy to annotate your activities with specific URL patterns.</p> <h3 id=default-link-handling>Default link handling<a class=headerlink href=#default-link-handling title="Permanent link">&para;</a></h3> <p>If you wish for your app to be considered the default handler for a link (only works for Android Marshmallow devices and higher), you can leverage the new feature by setting <code>android:autoVerify</code> on the intent filter:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;intent-filter</span> <span class=na>android:autoVerify=</span><span class=s>&quot;true&quot;</span><span class=nt>&gt;</span>

<span class=nt>&lt;/intent&gt;</span>
</pre></div> </td></tr></table> <p>You would then need to host an <code>assetlinks.json</code> file at <code>https://domain[:optional_port]/.well-known/assetlinks.json</code> that uses the following format:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=p>[{</span>
  <span class=s2>&quot;relation&quot;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&quot;delegate_permission/common.handle_all_urls&quot;</span><span class=p>],</span>
  <span class=s2>&quot;target&quot;</span><span class=o>:</span> <span class=p>{</span>
    <span class=s2>&quot;namespace&quot;</span><span class=o>:</span> <span class=s2>&quot;android_app&quot;</span><span class=p>,</span>
    <span class=s2>&quot;package_name&quot;</span><span class=o>:</span> <span class=s2>&quot;com.mycompany.app1&quot;</span><span class=p>,</span>
    <span class=s2>&quot;sha256_cert_fingerprints&quot;</span><span class=o>:</span>
    <span class=p>[</span><span class=s2>&quot;14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5&quot;</span><span class=p>]</span>
  <span class=p>}</span>
<span class=p>}]</span>
</pre></div> </td></tr></table> <p>The <code>sha256_cert_fingerprints</code> comes from the app signing certificate by typing <code>keytool -list -v -keystore my-release-key.keystore</code>. The package name should correspond to your app's package name. See <a href=https://developer.android.com/training/app-links/index.html>this guide</a> for more details.</p> <p>You can check to see if this file is hosted properly by checking this URL:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>digitalassetlinks</span><span class=p>.</span><span class=n>googleapis</span><span class=p>.</span><span class=n>com</span><span class=o>/</span><span class=n>v1</span><span class=o>/</span><span class=n>statements</span><span class=p>:</span><span class=n>list</span><span class=o>?</span>
   <span class=k>source</span><span class=p>.</span><span class=n>web</span><span class=p>.</span><span class=n>site</span><span class=o>=</span><span class=n>https</span><span class=p>:</span><span class=o>//&lt;</span><span class=n>domain1</span><span class=o>&gt;</span><span class=p>:</span><span class=o>&lt;</span><span class=n>port</span><span class=o>&gt;&amp;</span>
   <span class=n>relation</span><span class=o>=</span><span class=n>delegate_permission</span><span class=o>/</span><span class=n>common</span><span class=p>.</span><span class=n>handle_all_urls</span>
</pre></div> </td></tr></table> <h2 id=swipe-and-tabbed-navigation-with-viewpager-and-tablayout>Swipe and Tabbed Navigation with ViewPager and TabLayout<a class=headerlink href=#swipe-and-tabbed-navigation-with-viewpager-and-tablayout title="Permanent link">&para;</a></h2> <p>You use a ViewPager together with the TabLayout to create tabbed navigation. To only support swipe navigation without tabs you can use the ViewPager on its own.</p> <p>Here are the steps to add tab navigation : </p> <ul> <li><strong>Add the Support Library V4</strong> - The ViewPager is found in the Android Support V4</li> <li><strong>Add the Support Design Library</strong> - To get the TabLayout, you need to add the Support Design Library</li> <li><strong>Adding ViewPager and TabLayout</strong> - You will need to add the ViewPager and TabLayout to layout resource file :</li> </ul> <p><strong>Resources/layout/Main.axml</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;LinearLayout</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:orientation=</span><span class=s>&quot;vertical&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;android.support.design.widget.TabLayout</span>
        <span class=na>android:id=</span><span class=s>&quot;@+id/tabLayout&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span> <span class=nt>/&gt;</span>

    <span class=nt>&lt;android.support.v4.view.ViewPager</span>
        <span class=na>android:id=</span><span class=s>&quot;@+id/viewPager&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:padding=</span><span class=s>&quot;16dp&quot;</span> <span class=nt>/&gt;</span>
<span class=nt>&lt;/LinearLayout&gt;</span>
</pre></div> </td></tr></table> <p><strong>Adding an Adapter for the ViewPager</strong></p> <p>The ViewPager works the same as the ListView, it requires an adapter to supply the fragments it will use to display.</p> <p><strong>PageAdapter.cs</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>class</span> <span class=nv>PagesAdapter</span> : <span class=nv>FragmentPagerAdapter</span> {
    <span class=nv>List</span><span class=o>&lt;</span><span class=nv>Fragment</span><span class=o>&gt;</span> <span class=nv>fragmentList</span><span class=c1>;</span>
    <span class=nv>List</span><span class=o>&lt;</span><span class=nv>ICharSequence</span><span class=o>&gt;</span> <span class=nv>titles</span><span class=c1>;</span>

    <span class=nv>public</span> <span class=nv>PagesAdapter</span><span class=ss>(</span><span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V4</span>.<span class=nv>App</span>.<span class=nv>FragmentManager</span> <span class=nv>fm</span>, <span class=nv>List</span><span class=o>&lt;</span><span class=nv>Fragment</span><span class=o>&gt;</span> <span class=nv>fragmentList</span>, <span class=nv>List</span><span class=o>&lt;</span><span class=nv>ICharSequence</span><span class=o>&gt;</span> <span class=nv>titles</span><span class=ss>)</span> : <span class=nv>base</span><span class=ss>(</span><span class=nv>fm</span><span class=ss>)</span> {
        <span class=nv>this</span>.<span class=nv>fragmentList</span> <span class=o>=</span> <span class=nv>fragmentList</span><span class=c1>;</span>
        <span class=nv>this</span>.<span class=nv>titles</span> <span class=o>=</span> <span class=nv>titles</span><span class=c1>;</span>
    }

    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>int</span> <span class=nv>Count</span>
    {
        <span class=nv>get</span> {
            <span class=k>return</span> <span class=nv>fragmentList</span>.<span class=nv>Count</span><span class=c1>;</span>
        }
    }

    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>Fragment</span> <span class=nv>GetItem</span><span class=ss>(</span><span class=nv>int</span> <span class=nv>position</span><span class=ss>)</span>
    {
        <span class=k>return</span> <span class=nv>fragmentList</span>[<span class=nv>position</span>]<span class=c1>;</span>
    }

    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>Java</span>.<span class=nv>Lang</span>.<span class=nv>ICharSequence</span> <span class=nv>GetPageTitleFormatted</span><span class=ss>(</span><span class=nv>int</span> <span class=nv>position</span><span class=ss>)</span>
    {
        <span class=k>return</span> <span class=nv>titles</span>[<span class=nv>position</span>]<span class=c1>;</span>
    }
}
</pre></div> </td></tr></table> <p>The <code>PageAdapter</code> inherits from the <code>FragmentPageAdapter</code> and implements the required methods.</p> <p><strong>Create the Fragments Classes to be Displayed</strong></p> <p>The ViewPager will need fragments to display when you swipe</p> <p><strong>MoviesFragment.cs</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>public</span> <span class=nv>class</span> <span class=nv>MoviesFragment</span> : <span class=nv>Fragment</span>
{
    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
    {
        <span class=nv>base</span>.<span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>savedInstanceState</span><span class=ss>)</span><span class=c1>;</span>
    }

    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>View</span> <span class=nv>OnCreateView</span><span class=ss>(</span><span class=nv>LayoutInflater</span> <span class=nv>inflater</span>, <span class=nv>ViewGroup</span> <span class=nv>container</span>, <span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
    {
        <span class=k>return</span> <span class=nv>inflater</span>.<span class=nv>Inflate</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Layout</span>.<span class=nv>activity_movies</span>, <span class=nv>container</span>, <span class=nv>false</span><span class=ss>)</span><span class=c1>;</span>
    }
}
</pre></div> </td></tr></table> <p>and the backing xml file for it : <strong>Resources/layout/activity_movies.axml</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;LinearLayout</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>android:orientation=</span><span class=s>&quot;vertical&quot;</span>
    <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;TextView</span>
        <span class=na>android:text=</span><span class=s>&quot;Movies&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span> <span class=nt>/&gt;</span>
<span class=nt>&lt;/LinearLayout&gt;</span>
</pre></div> </td></tr></table> <p><strong>FavoriteMoviesFragment.cs</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>public</span> <span class=nv>class</span> <span class=nv>FavoriteMoviesFragment</span> : <span class=nv>Fragment</span>
{
    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
    {
        <span class=nv>base</span>.<span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>savedInstanceState</span><span class=ss>)</span><span class=c1>;</span>
    }

    <span class=nv>public</span> <span class=nv>override</span> <span class=nv>View</span> <span class=nv>OnCreateView</span><span class=ss>(</span><span class=nv>LayoutInflater</span> <span class=nv>inflater</span>, <span class=nv>ViewGroup</span> <span class=nv>container</span>, <span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
    {
        <span class=k>return</span> <span class=nv>inflater</span>.<span class=nv>Inflate</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Layout</span>.<span class=nv>activity_favorite_movies</span>, <span class=nv>container</span>, <span class=nv>false</span><span class=ss>)</span><span class=c1>;</span>
    }
}
</pre></div> </td></tr></table> <p>and the backing xml layout resource file <strong>Resources/layout/activity_favorite_movies.axml</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;LinearLayout</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>android:orientation=</span><span class=s>&quot;vertical&quot;</span>
    <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;TextView</span>
        <span class=na>android:text=</span><span class=s>&quot;Favorite Movies&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span> <span class=nt>/&gt;</span>

<span class=nt>&lt;/LinearLayout&gt;</span>
</pre></div> </td></tr></table> <p><strong>PopularMoviesFragment.cs</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span>public class PopularMoviesFragment : Fragment
{
    public override void OnCreate(Bundle savedInstanceState)
    {
        base.OnCreate(savedInstanceState);
    }

    public override View OnCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)
    {
        return inflater.Inflate(Resource.Layout.activity_popular_movies, container, false);
    }
}
</pre></div> </td></tr></table> <p>and its backing xml resource file <strong>Resources/layout/activity_popular_movies.axml</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;LinearLayout</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>android:padding=</span><span class=s>&quot;16dp&quot;</span>
    <span class=na>android:orientation=</span><span class=s>&quot;vertical&quot;</span>
    <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;TextView</span>
        <span class=na>android:text=</span><span class=s>&quot;Popular Movies&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span> <span class=nt>/&gt;</span>

<span class=nt>&lt;/LinearLayout&gt;</span>
</pre></div> </td></tr></table> <p><strong>Bind the ViewPager and Setup TabLayout</strong></p> <p>We can now find the Viewpager and TabLayout and create the adapter and attach it to the ViewPager.</p> <p><strong>MainActivity.cs</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>[Activity(Label = &quot;SwipeViewDemo&quot;, MainLauncher = true, Icon = &quot;@mipmap/icon&quot;, Theme = &quot;@style/AppTheme&quot;)]</span>

    <span class=na>public class MainActivity : AppCompatActivity</span>
    <span class=na>{</span>
        <span class=na>ViewPager viewPager;</span>
        <span class=na>List&lt;Fragment&gt; fragmentList</span> <span class=o>=</span> <span class=s>new List&lt;Fragment&gt;();</span>
<span class=s>        List&lt;ICharSequence&gt; titles = new List&lt;ICharSequence&gt;();</span>
<span class=s>        PagesAdapter adapter;</span>
<span class=s>        TabLayout tabLayout;</span>

    <span class=na>protected override void OnCreate(Bundle savedInstanceState)</span>
    <span class=na>{</span>
        <span class=na>base.OnCreate(savedInstanceState);</span>
        <span class=na>// Set our view from the &quot;main&quot; layout resource</span>
        <span class=na>SetContentView(Resource.Layout.activity_main);</span>
        <span class=na>viewPager</span> <span class=o>=</span> <span class=s>FindViewById&lt;ViewPager&gt;(Resource.Id.viewPager);</span>
<span class=s>        tabLayout = FindViewById&lt;TabLayout&gt;(Resource.Id.tabLayout);</span>
<span class=s>        tabLayout.TabMode = TabLayout.ModeFixed;</span>
<span class=s>        tabLayout.TabGravity = TabLayout.GravityFill;</span>
<span class=s>        fragmentList.Add(new MoviesFragment());</span>
<span class=s>        titles.Add(new Java.Lang.String(&quot;Movies&quot;));</span>
<span class=s>        fragmentList.Add(new PopularMoviesFragment());</span>
<span class=s>        titles.Add(new Java.Lang.String(&quot;Popular&quot;));</span>
<span class=s>        fragmentList.Add(new FavoriteMoviesFragment());</span>
<span class=s>        titles.Add(new Java.Lang.String(&quot;Favorite&quot;));</span>
<span class=s>        adapter = new PagesAdapter(SupportFragmentManager, fragmentList, titles);</span>
<span class=s>        viewPager.Adapter = adapter;</span>
<span class=s>        tabLayout.SetupWithViewPager(viewPager);</span>
<span class=s>    }</span>
<span class=na>}</span>
</pre></div> </td></tr></table> <h2 id=navigation-drawer>Navigation Drawer<a class=headerlink href=#navigation-drawer title="Permanent link">&para;</a></h2> <p>The navigation drawer is a panel that displays the apps main navigation options on the left edge of the screen. It is hidden most of the time, but is revealed when the user swipes a finger from the left edge of the screen or, while at the top level of the app, the user touches the app icon in the action bar.</p> <p><img src=https://i.imgur.com/hPOFJUf.gif width=350></p> <div class="admonition note"> <p class=admonition-title>Navigation Drawer Design</p> <p>Before you decide to use a navigation drawer in your app, you should understand the use cases and design principles defined in the <a href=https://developer.android.com/design/patterns/navigation-drawer.html>Navigation Drawer</a> design guide.</p> </div> <h3 id=usage>Usage<a class=headerlink href=#usage title="Permanent link">&para;</a></h3> <p>This guide explains how to setup a basic material design style drawer filled with navigation items that switch different fragments into the content area. In this way, you can define multiple fragments, and then define the list of options which will display in the drawers items list. Each item when clicked will switch the relevant fragment into the activity's container view.</p> <p>This guide explains how to setup a basic material design style drawer filled with navigation items that switch different fragments into the content area. In this way, you can define multiple fragments, and then define the list of options which will display in the drawers items list. Each item when clicked will switch the relevant fragment into the activity's container view.</p> <h3 id=setup>Setup<a class=headerlink href=#setup title="Permanent link">&para;</a></h3> <p>Make sure to setup the Google <a href=https://components.xamarin.com/view/xamandroidsupportdesign>Design Support Library</a> before using Google's new <a href=https://developer.android.com/reference/android/support/design/widget/NavigationView.html>NavigationView</a>, announced as part of the Android M release. The NavigationView should be backwards compatible with all versions down to Android 2.1.</p> <p><strong>Setup Drawer Resources</strong></p> <p>Create a menu/drawer_view.xml file:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;menu</span> <span class=na>xmlns:app=</span><span class=s>&quot;http://schemas.android.com/apk/res-auto&quot;</span>
    <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;group</span> <span class=na>android:checkableBehavior=</span><span class=s>&quot;single&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;item</span>
            <span class=na>android:id=</span><span class=s>&quot;@+id/action_popular&quot;</span>
            <span class=na>android:title=</span><span class=s>&quot;Popular&quot;</span> <span class=nt>/&gt;</span>
        <span class=nt>&lt;item</span>
            <span class=na>android:id=</span><span class=s>&quot;@+id/action_showing&quot;</span>
            <span class=na>android:title=</span><span class=s>&quot;Showing&quot;</span><span class=nt>/&gt;</span>
        <span class=nt>&lt;item</span>
            <span class=na>android:id=</span><span class=s>&quot;@+id/action_favorites&quot;</span>
            <span class=na>android:title=</span><span class=s>&quot;Favorites&quot;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;/group&gt;</span>
<span class=nt>&lt;/menu&gt;</span>
</pre></div> </td></tr></table> <p>Note that you can set one of these elements to be default selected by using <code>android:checked="true"</code>. You can also create subheaders too and group elements together:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;item</span> <span class=na>android:title=</span><span class=s>&quot;Sub items&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;menu&gt;</span>
            <span class=nt>&lt;group</span> <span class=na>android:checkableBehavior=</span><span class=s>&quot;single&quot;</span><span class=nt>&gt;</span>
                <span class=nt>&lt;item</span>
                    <span class=na>android:icon=</span><span class=s>&quot;@drawable/ic_dashboard&quot;</span>
                    <span class=na>android:title=</span><span class=s>&quot;Sub item 1&quot;</span> <span class=nt>/&gt;</span>
                <span class=nt>&lt;item</span>
                    <span class=na>android:icon=</span><span class=s>&quot;@drawable/ic_forum&quot;</span>
                    <span class=na>android:title=</span><span class=s>&quot;Sub item 2&quot;</span> <span class=nt>/&gt;</span>
            <span class=nt>&lt;/group&gt;</span>
        <span class=nt>&lt;/menu&gt;</span>
    <span class=nt>&lt;/item&gt;</span>
</pre></div> </td></tr></table> <p><img src=http://imgur.com/zoDqDKM.png></p> <p><strong>Define Fragments</strong></p> <p>Next, you need to define your fragments that will be displayed within the drawer. These can be any support fragments you define within your application. Make sure that all the fragments extend from <code>Android.Support.V4.App.Fragment</code>.</p> <p><strong>Setup Toolbar</strong> In order to slide our navigation drawer over the ActionBar, we need to use the new <code>Toolbar</code> widget as defined in the <code>AppCompat v21</code> library. The Toolbar can be embedded into your view hierarchy which makes sure that the drawer slides over the ActionBar. Create a new layout file <code>res/layout/toolbar.xml</code> with the following code:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;android.support.v7.widget.Toolbar</span>
    <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>xmlns:app=</span><span class=s>&quot;http://schemas.android.com/apk/res-auto&quot;</span>
    <span class=na>android:id=</span><span class=s>&quot;@+id/toolbar&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span>
    <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:fitsSystemWindows=</span><span class=s>&quot;true&quot;</span>
    <span class=na>android:minHeight=</span><span class=s>&quot;?attr/actionBarSize&quot;</span>
    <span class=na>app:theme=</span><span class=s>&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;</span>
    <span class=na>android:background=</span><span class=s>&quot;?attr/colorPrimaryDark&quot;</span><span class=nt>&gt;</span>
<span class=nt>&lt;/android.support.v7.widget.Toolbar&gt;</span>
</pre></div> </td></tr></table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Note that when the <code>android:fitsSystemWindows</code> attribute is set to true for a view, the view would be laid out as if the <code>StatusBar</code> and the ActionBar were present i.e. the UI on top gets padding enough to not be obscured by the navigation bar. Without this attribute, there is not enough padding factored into consideration for the ToolBar:</p> </div> <p><img src=http://imgur.com/HaOAmoh.png></p> <p>We want our main content view to have the navigation bar and hence <code>android:fitsSystemWindows</code> is set to true for the <code>Toolbar</code>.</p> <p>To use the <code>Toolbar</code> as an <code>ActionBar</code>, you need to disable the default <code>ActionBar</code>. This can be done by setting the app theme in <code>styles.xml</code> file. </p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;resources&gt;</span>
    <span class=c>&lt;!-- Base application theme. --&gt;</span>
    <span class=nt>&lt;style</span> <span class=na>name=</span><span class=s>&quot;AppTheme&quot;</span> <span class=na>parent=</span><span class=s>&quot;Theme.AppCompat.Light.NoActionBar&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&quot;colorPrimary&quot;</span><span class=nt>&gt;</span>#673AB7<span class=nt>&lt;/item&gt;</span>
        <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&quot;colorPrimaryDark&quot;</span><span class=nt>&gt;</span>#512DA8<span class=nt>&lt;/item&gt;</span>
        <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&quot;colorAccent&quot;</span><span class=nt>&gt;</span>#FF4081<span class=nt>&lt;/item&gt;</span>
    <span class=nt>&lt;/style&gt;</span>
<span class=nt>&lt;/resources&gt;</span>
</pre></div> </td></tr></table> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>If you forget to disable the ActionBar in styles.xml, you are likely to see an error message that reads "This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead". If you see this message, you need to make sure to follow the previous steps.</p> </div> <p><strong>Setup Drawer in Activity</strong></p> <p>Next, lets setup a basic navigation drawer based on the following layout file which has the entire drawer setup in <code>res/layout/activity_main.xml</code>. </p> <p>!!! Note that the Toolbar is added as the first child of the main content view by adding the include tag.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;LinearLayout</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>android:orientation=</span><span class=s>&quot;vertical&quot;</span> <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>xmlns:app=</span><span class=s>&quot;http://schemas.android.com/apk/res-auto&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;include</span>
        <span class=na>layout=</span><span class=s>&quot;@layout/toolbar&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span> <span class=nt>/&gt;</span>

    <span class=nt>&lt;android.support.v4.widget.DrawerLayout</span>
        <span class=na>android:id=</span><span class=s>&quot;@+id/drawer&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>&gt;</span>

        <span class=nt>&lt;FrameLayout</span>
            <span class=na>android:id=</span><span class=s>&quot;@+id/container&quot;</span>
            <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
            <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>/&gt;</span>

        <span class=nt>&lt;android.support.design.widget.NavigationView</span>
                <span class=na>android:layout_width=</span><span class=s>&quot;wrap_content&quot;</span>
                <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span>
                <span class=na>android:id=</span><span class=s>&quot;@+id/navigationView&quot;</span>
                <span class=na>android:layout_gravity=</span><span class=s>&quot;start&quot;</span>
                <span class=na>app:menu=</span><span class=s>&quot;@menu/drawer_menu&quot;</span> <span class=nt>/&gt;</span>

    <span class=nt>&lt;/android.support.v4.widget.DrawerLayout&gt;</span>
<span class=nt>&lt;/LinearLayout&gt;</span>
</pre></div> </td></tr></table> <p>Now, lets setup the drawer in our activity. We can also setup the menu icon too.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Make sure you implement the correct <code>OnPostCreate(Bundle savedInstanceState)</code> method. There are 2 signatures and only <code>OnPostCreate(Bundle state)</code> shows the hamburger icon.</p> </div> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>App</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Widget</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>OS</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V7</span>.<span class=nv>App</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V4</span>.<span class=nv>Widget</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>Design</span>.<span class=nv>Widget</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V7</span>.<span class=nv>Widget</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V7</span>.<span class=nv>Widget</span><span class=c1>;</span>
<span class=nv>using</span> <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V4</span>.<span class=nv>View</span><span class=c1>;</span>


<span class=nv>namespace</span> <span class=nv>NavigationDrawerDemoTest</span>
{
    [<span class=nv>Activity</span><span class=ss>(</span><span class=nv>Label</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=s>Rotten Tomatoes</span><span class=s2>&quot;</span>, <span class=nv>MainLauncher</span> <span class=o>=</span> <span class=nv>true</span>, <span class=nv>Icon</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=s>@mipmap/icon</span><span class=s2>&quot;</span>, <span class=nv>Theme</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=s>@style/NoActionBar</span><span class=s2>&quot;</span><span class=ss>)</span>]
    <span class=nv>public</span> <span class=nv>class</span> <span class=nv>MainActivity</span> : <span class=nv>AppCompatActivity</span>
    {
        <span class=nv>DrawerLayout</span> <span class=nv>drawer</span><span class=c1>;</span>
        <span class=nv>NavigationView</span> <span class=nv>navigationView</span><span class=c1>;</span>
        <span class=nv>ActionBarDrawerToggle</span> <span class=nv>toggle</span><span class=c1>;</span>
        <span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V7</span>.<span class=nv>Widget</span>.<span class=nv>Toolbar</span> <span class=nv>toolbar</span><span class=c1>;</span>

        <span class=nv>protected</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
        {
            <span class=nv>base</span>.<span class=nv>OnCreate</span><span class=ss>(</span><span class=nv>savedInstanceState</span><span class=ss>)</span><span class=c1>;</span>

            <span class=o>//</span> <span class=nv>Set</span> <span class=nv>our</span> <span class=nv>view</span> <span class=nv>from</span> <span class=nv>the</span> <span class=s2>&quot;</span><span class=s>main</span><span class=s2>&quot;</span> <span class=nv>layout</span> <span class=nv>resource</span>
            <span class=nv>SetContentView</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Layout</span>.<span class=nv>Main</span><span class=ss>)</span><span class=c1>;</span>

            <span class=nv>drawer</span> <span class=o>=</span> <span class=nv>FindViewById</span><span class=o>&lt;</span><span class=nv>DrawerLayout</span><span class=o>&gt;</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>drawer</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>navigationView</span> <span class=o>=</span> <span class=nv>FindViewById</span><span class=o>&lt;</span><span class=nv>NavigationView</span><span class=o>&gt;</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>navigationView</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>toolbar</span> <span class=o>=</span> <span class=nv>FindViewById</span><span class=o>&lt;</span><span class=nv>Android</span>.<span class=nv>Support</span>.<span class=nv>V7</span>.<span class=nv>Widget</span>.<span class=nv>Toolbar</span><span class=o>&gt;</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>toolbar</span><span class=ss>)</span><span class=c1>;</span>

            <span class=nv>SetSupportActionBar</span><span class=ss>(</span><span class=nv>toolbar</span><span class=ss>)</span><span class=c1>;</span>

            <span class=nv>toggle</span> <span class=o>=</span> <span class=nv>new</span> <span class=nv>ActionBarDrawerToggle</span><span class=ss>(</span><span class=nv>this</span>, <span class=nv>drawer</span>, <span class=nv>toolbar</span>, <span class=nv>Resource</span>.<span class=nv>String</span>.<span class=nv>drawer_open</span>, <span class=nv>Resource</span>.<span class=nv>String</span>.<span class=nv>drawer_close</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>SupportActionBar</span>.<span class=nv>SetHomeButtonEnabled</span><span class=ss>(</span><span class=nv>true</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>SupportActionBar</span>.<span class=nv>SetDisplayShowTitleEnabled</span><span class=ss>(</span><span class=nv>true</span><span class=ss>)</span><span class=c1>;</span>

            <span class=nv>drawer</span>.<span class=nv>AddDrawerListener</span><span class=ss>(</span><span class=nv>toggle</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>toggle</span>.<span class=nv>SyncState</span><span class=ss>()</span><span class=c1>;</span>

            <span class=nv>navigationView</span>.<span class=nv>NavigationItemSelected</span> <span class=o>+=</span> <span class=ss>(</span><span class=nv>object</span> <span class=nv>sender</span>, <span class=nv>NavigationView</span>.<span class=nv>NavigationItemSelectedEventArgs</span> <span class=nv>e</span><span class=ss>)</span> <span class=o>=&gt;</span> {
                <span class=nv>switch</span> <span class=ss>(</span><span class=nv>e</span>.<span class=nv>MenuItem</span>.<span class=nv>ItemId</span><span class=ss>)</span> {
                    <span class=nv>case</span> <span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>action_showing</span>:
                        <span class=nv>Toast</span>.<span class=nv>MakeText</span><span class=ss>(</span><span class=nv>this</span>, <span class=s2>&quot;</span><span class=s>Showing</span><span class=s2>&quot;</span>, <span class=nv>ToastLength</span>.<span class=nv>Short</span><span class=ss>)</span>.<span class=k>Show</span><span class=ss>()</span><span class=c1>;</span>
                        <span class=o>//</span><span class=nv>Code</span> <span class=nv>to</span> <span class=nv>change</span> <span class=nv>the</span> <span class=nv>fragment</span> <span class=nv>here</span>.
                        <span class=o>//</span><span class=nv>FragmentManager</span>
                        <span class=o>//</span>  .<span class=nv>BeginTransaction</span><span class=ss>()</span>
                        <span class=o>//</span>  .<span class=nv>Replace</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>container</span>, <span class=nv>new</span> <span class=nv>PopularMoviesFragment</span><span class=ss>())</span>
                        <span class=o>//</span>  .<span class=nv>Commit</span><span class=ss>()</span><span class=c1>;</span>

                        <span class=nv>drawer</span>.<span class=nv>CloseDrawer</span><span class=ss>(</span><span class=nv>GravityCompat</span>.<span class=nv>Start</span><span class=ss>)</span><span class=c1>;</span>
                        <span class=k>break</span><span class=c1>;</span>
                    <span class=nv>case</span> <span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>action_popular</span>:
                        <span class=nv>Toast</span>.<span class=nv>MakeText</span><span class=ss>(</span><span class=nv>this</span>, <span class=s2>&quot;</span><span class=s>Popular</span><span class=s2>&quot;</span>, <span class=nv>ToastLength</span>.<span class=nv>Short</span><span class=ss>)</span>.<span class=k>Show</span><span class=ss>()</span><span class=c1>;</span>
                        <span class=k>break</span><span class=c1>;</span>
                    <span class=nv>case</span> <span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>action_favorites</span>:
                        <span class=nv>Toast</span>.<span class=nv>MakeText</span><span class=ss>(</span><span class=nv>this</span>, <span class=s2>&quot;</span><span class=s>showing</span><span class=s2>&quot;</span>, <span class=nv>ToastLength</span>.<span class=nv>Short</span><span class=ss>)</span>.<span class=k>Show</span><span class=ss>()</span><span class=c1>;</span>
                        <span class=k>break</span><span class=c1>;</span>
                }
            }<span class=c1>;</span>

        }

        <span class=nv>public</span> <span class=nv>override</span> <span class=nv>bool</span> <span class=nv>OnOptionsItemSelected</span><span class=ss>(</span><span class=nv>Android</span>.<span class=nv>Views</span>.<span class=nv>IMenuItem</span> <span class=nv>item</span><span class=ss>)</span>
        {
            <span class=k>if</span> <span class=ss>(</span><span class=nv>toggle</span>.<span class=nv>OnOptionsItemSelected</span><span class=ss>(</span><span class=nv>item</span><span class=ss>))</span> {
                <span class=k>return</span> <span class=nv>true</span><span class=c1>;</span>
            }

            <span class=nv>switch</span> <span class=ss>(</span><span class=nv>item</span>.<span class=nv>ItemId</span><span class=ss>)</span> {
                <span class=nv>case</span> <span class=nv>Android</span>.<span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>Home</span>:
                    <span class=nv>drawer</span>.<span class=nv>OpenDrawer</span><span class=ss>(</span><span class=nv>GravityCompat</span>.<span class=nv>Start</span><span class=ss>)</span><span class=c1>; </span>
                    <span class=k>break</span><span class=c1>;</span>
            }

            <span class=k>return</span> <span class=nv>base</span>.<span class=nv>OnOptionsItemSelected</span><span class=ss>(</span><span class=nv>item</span><span class=ss>)</span><span class=c1>;</span>
        }

        <span class=nv>protected</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnPostCreate</span><span class=ss>(</span><span class=nv>Bundle</span> <span class=nv>savedInstanceState</span><span class=ss>)</span>
        {
            <span class=nv>base</span>.<span class=nv>OnPostCreate</span><span class=ss>(</span><span class=nv>savedInstanceState</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>toggle</span>.<span class=nv>SyncState</span><span class=ss>()</span><span class=c1>;</span>
        }

        <span class=nv>public</span> <span class=nv>override</span> <span class=nv>void</span> <span class=nv>OnConfigurationChanged</span><span class=ss>(</span><span class=nv>Android</span>.<span class=nv>Content</span>.<span class=nv>Res</span>.<span class=nv>Configuration</span> <span class=nv>newConfig</span><span class=ss>)</span>
        {
            <span class=nv>base</span>.<span class=nv>OnConfigurationChanged</span><span class=ss>(</span><span class=nv>newConfig</span><span class=ss>)</span><span class=c1>;</span>
            <span class=nv>toggle</span>.<span class=nv>OnConfigurationChanged</span><span class=ss>(</span><span class=nv>newConfig</span><span class=ss>)</span><span class=c1>;</span>
        }
    }
}
</pre></div> </td></tr></table> <p><strong>Navigating between menu items</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nv>navigationView</span>.<span class=nv>NavigationItemSelected</span> <span class=o>+=</span> <span class=ss>(</span><span class=nv>object</span> <span class=nv>sender</span>, <span class=nv>NavigationView</span>.<span class=nv>NavigationItemSelectedEventArgs</span> <span class=nv>e</span><span class=ss>)</span> <span class=o>=&gt;</span> {
    <span class=nv>switch</span> <span class=ss>(</span><span class=nv>e</span>.<span class=nv>MenuItem</span>.<span class=nv>ItemId</span><span class=ss>)</span> {
        <span class=nv>case</span> <span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>action_showing</span>:
            <span class=nv>FragmentManager</span>
                .<span class=nv>BeginTransaction</span><span class=ss>()</span>
                .<span class=nv>Replace</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>container</span>, <span class=nv>new</span> <span class=nv>MoviesShowingFragment</span><span class=ss>())</span>
                .<span class=nv>Commit</span><span class=ss>()</span><span class=c1>;</span>
                <span class=nv>drawer</span>.<span class=nv>CloseDrawer</span><span class=ss>(</span><span class=nv>GravityCompat</span>.<span class=nv>Start</span><span class=ss>)</span><span class=c1>;</span>
                <span class=nv>e</span>.<span class=nv>MenuItem</span>.<span class=nv>setChecked</span><span class=ss>(</span><span class=nv>true</span><span class=ss>)</span><span class=c1>;</span>
              <span class=o>//</span><span class=nv>Set</span> <span class=nv>action</span> <span class=nv>bar</span> <span class=nv>title</span>
               <span class=k>SetTitle</span><span class=ss>(</span><span class=nv>MenuItem</span>.<span class=nv>Title</span><span class=ss>)</span><span class=c1>;</span>
                <span class=k>break</span><span class=c1>;</span>
        <span class=nv>case</span> <span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>action_popular</span>:
                <span class=nv>FragmentManager</span>
                .<span class=nv>BeginTransaction</span><span class=ss>()</span>
                .<span class=nv>Replace</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>container</span>, <span class=nv>new</span> <span class=nv>PopularMoviesFragment</span><span class=ss>())</span>
                .<span class=nv>Commit</span><span class=ss>()</span><span class=c1>;</span>
                <span class=nv>drawer</span>.<span class=nv>CloseDrawer</span><span class=ss>(</span><span class=nv>GravityCompat</span>.<span class=nv>Start</span><span class=ss>)</span><span class=c1>;</span>
                <span class=nv>e</span>.<span class=nv>MenuItem</span>.<span class=nv>setChecked</span><span class=ss>(</span><span class=nv>true</span><span class=ss>)</span><span class=c1>;</span>
              <span class=o>//</span><span class=nv>Set</span> <span class=nv>action</span> <span class=nv>bar</span> <span class=nv>title</span>
               <span class=k>SetTitle</span><span class=ss>(</span><span class=nv>MenuItem</span>.<span class=nv>Title</span><span class=ss>)</span><span class=c1>;</span>
                <span class=k>break</span><span class=c1>;</span>
        <span class=nv>case</span> <span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>action_favorites</span>:
                <span class=nv>FragmentManager</span>
                .<span class=nv>BeginTransaction</span><span class=ss>()</span>
                .<span class=nv>Replace</span><span class=ss>(</span><span class=nv>Resource</span>.<span class=nv>Id</span>.<span class=nv>container</span>, <span class=nv>new</span> <span class=nv>FavoriteMoviesFragment</span><span class=ss>())</span>
                .<span class=nv>Commit</span><span class=ss>()</span><span class=c1>;</span>
                <span class=nv>drawer</span>.<span class=nv>CloseDrawer</span><span class=ss>(</span><span class=nv>GravityCompat</span>.<span class=nv>Start</span><span class=ss>)</span><span class=c1>;</span>
                <span class=nv>e</span>.<span class=nv>MenuItem</span>.<span class=nv>setChecked</span><span class=ss>(</span><span class=nv>true</span><span class=ss>)</span><span class=c1>;</span>
              <span class=o>//</span><span class=nv>Set</span> <span class=nv>action</span> <span class=nv>bar</span> <span class=nv>title</span>
               <span class=k>SetTitle</span><span class=ss>(</span><span class=nv>MenuItem</span>.<span class=nv>Title</span><span class=ss>)</span><span class=c1>;</span>
                <span class=k>break</span><span class=c1>;</span>
    }
}<span class=c1>;</span>
</pre></div> </td></tr></table> <p>One thing to note is that the <code>ActionBarDrawerToggle</code> renders a custom DrawerArrowDrawable for you for the hamburger icon.</p> <h3 id=making-status-bar-translucent>Making Status Bar Translucent<a class=headerlink href=#making-status-bar-translucent title="Permanent link">&para;</a></h3> <p><img alt="Translucent Image" src=http://imgur.com/o4WvT3k.gif></p> <p>To have the status bar translucent and have our drawer slide over it, we need to set <code>android:windowTranslucentStatus</code> to true. Because this style is not available for pre Kitkat devices, well add <code>res/values-v19/styles.xml</code> file for API version 19 and onwards. Note: If you modify your <code>res/values/styles.xml</code> directly with this <code>android:windowTranslucentStatus</code> line, you are likely to need to build only for SDK versions 19 or higher, which will obviously limit you from supporting many older devices. In res/values-v19/styles.xml we can add the following:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;resources&gt;</span>
  <span class=c>&lt;!-- Base application theme. --&gt;</span>
  <span class=nt>&lt;style</span> <span class=na>name=</span><span class=s>&quot;AppTheme&quot;</span> <span class=na>parent=</span><span class=s>&quot;Theme.AppCompat.Light.NoActionBar&quot;</span><span class=nt>&gt;</span>
    <span class=c>&lt;!-- Customize your theme here. --&gt;</span>
    <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&quot;android:windowTranslucentStatus&quot;</span><span class=nt>&gt;</span>true<span class=nt>&lt;/item&gt;</span>
  <span class=nt>&lt;/style&gt;</span>
<span class=nt>&lt;/resources&gt;</span>
</pre></div> </td></tr></table> <p>Now if you run your app, you should see the navigation drawer and be able to select between your fragments.</p> <h3 id=adding-custom-views-to-navigation-drawer>Adding custom views to navigation drawer<a class=headerlink href=#adding-custom-views-to-navigation-drawer title="Permanent link">&para;</a></h3> <p>One improvement made to the design support library 23.1.0 is the addition of support for custom views for the navigation drawer items. For instance, we can create a custom switch like the navigation drawer from Google Play Movies for one of the rows:</p> <p><img alt="Custom Menu Items" src=http://i.imgur.com/gCgB5PQ.png></p> <p>The approach is the same as adding custom menu items to the ActionBar. We simply need to define a separate layout such as the following snippet. We will call this file <code>action_view_switch.xml</code>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;LinearLayout</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class=na>android:orientation=</span><span class=s>&quot;horizontal&quot;</span> <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
    <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;android.support.v7.widget.SwitchCompat</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;fill_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:text=</span><span class=s>&quot;Switch&quot;</span><span class=nt>/&gt;</span>
<span class=nt>&lt;/LinearLayout&gt;</span>
</pre></div> </td></tr></table> <p>We then reference this layout using the <code>app:actionLayout</code> attribute. A title must be provided but can also be set to blank:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;menu</span> <span class=na>xmlns:app=</span><span class=s>&quot;http://schemas.android.com/apk/res-auto&quot;</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;item</span> <span class=na>android:id=</span><span class=s>&quot;@+id/nav_switch&quot;</span>
        <span class=na>app:actionLayout=</span><span class=s>&quot;@layout/action_view_switch&quot;</span>
        <span class=na>android:title=</span><span class=s>&quot;Downloaded only&quot;</span> <span class=nt>/&gt;</span>
  <span class=nt>&lt;/item&gt;</span>
<span class=nt>&lt;/menu&gt;</span>
</pre></div> </td></tr></table> <p>You can attach events directly in XML so long as your Activity will implement the method. To add an event handling to the toggle switch programmatically through Java, you will need to first get the menu instance and get access to the corresponding ActionView:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Menu</span><span class=w> </span><span class=n>menu</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>navigationView</span><span class=p>.</span><span class=n>getMenu</span><span class=p>();</span><span class=w></span>
<span class=n>MenuItem</span><span class=w> </span><span class=n>menuItem</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>menu</span><span class=p>.</span><span class=n>findItem</span><span class=p>(</span><span class=n>R</span><span class=p>.</span><span class=n>id</span><span class=p>.</span><span class=n>nav_switch</span><span class=p>);</span><span class=w></span>
<span class=k>View</span><span class=w> </span><span class=n>actionView</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MenuItemCompat</span><span class=p>.</span><span class=n>getActionView</span><span class=p>(</span><span class=n>menuItem</span><span class=p>);</span><span class=w></span>
<span class=n>actionView</span><span class=p>.</span><span class=n>setOnClickListener</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=k>View</span><span class=p>.</span><span class=n>OnClickListener</span><span class=p>()</span><span class=w> </span><span class=err>{</span><span class=w></span>
<span class=w>  </span><span class=nv>@Override</span><span class=w></span>
<span class=w>  </span><span class=k>public</span><span class=w> </span><span class=n>void</span><span class=w> </span><span class=n>onClick</span><span class=p>(</span><span class=k>View</span><span class=w> </span><span class=n>v</span><span class=p>)</span><span class=w> </span><span class=err>{</span><span class=w></span>

<span class=w>  </span><span class=err>}</span><span class=w></span>
<span class=err>}</span><span class=p>);</span><span class=w></span>
</pre></div> </td></tr></table> <p>Custom widgets using <code>app:actionViewClass</code> can also be used too for menu items as well now too. For more details about how Action Views</p> <h3 id=persistent-navigation-drawer>Persistent Navigation Drawer<a class=headerlink href=#persistent-navigation-drawer title="Permanent link">&para;</a></h3> <p>In certain situations, especially on tablets, the navigation drawer should be a permanent fixture on the activity acting as a sidebar:</p> <p><img alt="Persistent Navigation Drawer" src=http://i.imgur.com/9f7nyrA.png></p> <p>To achieve this effect, review the following links which describe one approach: * <a href=http://derekrwoods.com/2013/09/creating-a-static-navigation-drawer-in-android/ >Static Nav Drawer</a> * <a href=http://stackoverflow.com/a/18095111>Related Stackoverflow Question</a> * <a href=https://github.com/samerzmd/Navigation-Drawer-set-as-always-opened-on-tablets>Sample Code</a></p> <p>Third-party libraries may also make this easier to achieve.</p> <h3 id=limitations>Limitations<a class=headerlink href=#limitations title="Permanent link">&para;</a></h3> <p>The current version of the design support library does come with its limitations. The main issue is with the system that highlights the current item in the navigation menu. The itemBackground attribute for the NavigationView does not handle the checked state of the item correctly: somehow either all items are highlighted or none of them are. This makes this attribute basically unusable for most apps.</p> <h3 id=alternative-to-fragments>Alternative to Fragments<a class=headerlink href=#alternative-to-fragments title="Permanent link">&para;</a></h3> <p>Although many navigation drawer examples show how fragments can be used with the navigation drawer, you can also use a RelativeLayout/LinearLayout if you wish to use the drawer as an overlay to your currently displayed Activity. Instead of <code>&lt;FrameLayout&gt;</code> you can substitute that for a <code>&lt;LinearLayout&gt;</code></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;android.support.v4.widget.DrawerLayout</span>
        <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
        <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span>
        <span class=na>android:id=</span><span class=s>&quot;@+id/drawer_layout&quot;</span><span class=nt>&gt;</span>

        <span class=nt>&lt;LinearLayout</span>
                <span class=na>android:id=</span><span class=s>&quot;@+id/content_frame&quot;</span>
                <span class=na>android:orientation=</span><span class=s>&quot;horizontal&quot;</span>
                <span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
                <span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span><span class=nt>/&gt;</span>

        <span class=c>&lt;!-- The navigation drawer --&gt;</span>
        <span class=nt>&lt;ListView</span> <span class=na>android:id=</span><span class=s>&quot;@+id/left_drawer&quot;</span>
                  <span class=na>android:layout_width=</span><span class=s>&quot;240dp&quot;</span>
                  <span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span>
                  <span class=na>android:layout_gravity=</span><span class=s>&quot;start&quot;</span>
                  <span class=na>android:choiceMode=</span><span class=s>&quot;singleChoice&quot;</span>
                  <span class=na>android:divider=</span><span class=s>&quot;@android:color/transparent&quot;</span>
                  <span class=na>android:dividerHeight=</span><span class=s>&quot;0dp&quot;</span>
                  <span class=na>android:background=</span><span class=s>&quot;#111&quot;</span><span class=nt>/&gt;</span>

<span class=nt>&lt;/android.support.v4.widget.DrawerLayout&gt;</span>
</pre></div> </td></tr></table> <p>Instead of this:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>//</span> <span class=k>Insert</span> <span class=n>the</span> <span class=n>fragment</span> <span class=k>by</span> <span class=n>replacing</span> <span class=k>any</span> <span class=k>existing</span> <span class=n>fragment</span>
<span class=n>getFragmentManager</span><span class=p>().</span><span class=n>beginTransaction</span><span class=p>()</span>
       <span class=p>.</span><span class=k>replace</span><span class=p>(</span><span class=n>R</span><span class=p>.</span><span class=n>id</span><span class=p>.</span><span class=n>content_frame</span><span class=p>,</span> <span class=n>fragment</span><span class=p>)</span>
       <span class=p>.</span><span class=k>commit</span><span class=p>();</span>
</pre></div> </td></tr></table> <p>You can instead use the LinearLayout container to inflate the Activity directly:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>LayoutInflater</span> <span class=n>inflater</span> <span class=o>=</span> <span class=n>getLayoutInflater</span><span class=p>();</span>
<span class=n>LinearLayout</span> <span class=n>container</span> <span class=o>=</span> <span class=p>(</span><span class=n>LinearLayout</span><span class=p>)</span> <span class=n>findViewById</span><span class=p>(</span><span class=n>R</span><span class=p>.</span><span class=n>id</span><span class=p>.</span><span class=n>content_frame</span><span class=p>);</span>
<span class=n>inflater</span><span class=p>.</span><span class=n>inflate</span><span class=p>(</span><span class=n>R</span><span class=p>.</span><span class=n>layout</span><span class=p>.</span><span class=n>activity_main</span><span class=p>,</span> <span class=n>container</span><span class=p>);</span>
</pre></div> </td></tr></table> <h2 id=references>References<a class=headerlink href=#references title="Permanent link">&para;</a></h2> <ul> <li><a href=http://developer.android.com/guide/components/intents-filters.html>http://developer.android.com/guide/components/intents-filters.html</a></li> <li><a href=http://developer.android.com/reference/android/content/Intent.html>http://developer.android.com/reference/android/content/Intent.html</a></li> <li><a href=http://www.vogella.com/articles/AndroidIntent/article.html>http://www.vogella.com/articles/AndroidIntent/article.html</a></li> <li><a href=https://developer.android.com/training/app-links/index.html>https://developer.android.com/training/app-links/index.html</a></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../recyclerview/ title=RecyclerView class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> RecyclerView </span> </div> </a> <a href=../fragments/ title=Fragments class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Fragments </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset" style="background-color: #ff9900; color: #fff"> <div class=md-grid style="display: flex;"> <div style="flex: 1;"> <h2>Consulting</h2> <ul style="list-style: none; margin-left: -15px;"> <li><a href=https://www.peruzal.com/mobile-app-development target=_blank>Mobile App Development</a></li> <li><a href=https://www.peruzal.com/mobile-app-device-security-and-penetration-testing target=_blank>Mobile App Security and Penetration Testing</a></li> <li><a href=https://www.peruzal.com/database-and-web-application-performance-tuning-and-consulting target=_blank>Database Performance Tuning</a></li> </ul> </div> <div style="flex: 1;"> <h2>Training</h2> <ul style="list-style: none; margin-left: -15px;"> <li><a href=https://training.peruzal.com/courses/mobile/android-mobile-app-development-training-certification target=_blank>Android Mobile App Development Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/ios-mobile-app-development-training-with-swift target=_blank>iOS Mobile App Development Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/xamarin/xamarin-forms-mobile-app-development-training target=_blank>Xamarin Forms Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/xamarin/android-mobile-app-development-training-with-xamarin target=_blank>Xamarin Android Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/xamarin/ios-mobile-app-development-training-with-xamarin target=_blank>Xamarin iOS Training</a></li> <li><a href=https://training.peruzal.com/courses/web/reactjs-front-end-web-application-development target=_blank>ReactJS Training</a></li> <li><a href=https://training.peruzal.com/courses/web/reactjs-front-end-web-application-development target=_blank>React Native Training</a></li> <li><a href=https://training.peruzal.com/courses/gaming/unity-certified-game-development-training-south-africa target=_blank>Unity Game Development Training</a></li> <li><a href=https://training.peruzal.com/courses/database/mysql-database-administration-training-certification-south-africa target=_blank>MySQL Database Adminstration Training</a></li> <li><a href=https://training.peruzal.com/courses/programming/java-programming-training-certification target=_blank>Java Programming Training</a></li> <li><a href=https://training.peruzal.com/courses/programming/ruby-programming-training-certification target=_blank>Ruby Programming Training</a></li> </ul> </div> <div style="flex: 1"> <h2>Resources</h2> <ul style="list-style: none; margin-left: -15px;"> <li><a href=http://guides.peruzal.com/xamarin-forms-guide target=_blank>Xamarin Forms Guide</a></li> <li><a href=http://guides.peruzal.com/v1/android-guides target=_blank>Android Development Guides</a></li> <li><a href=http://guides.peruzal.com/xamarin-ios target=_blank>iOS Development Guides</a></li> <li><a href=http://xamarin-android-guide.peruzal.com/ target=_blank>Xamarin Android Guides</a></li> <li><a href=http://xamarin-ios-guide.peruzal.com/ target=_blank>Xamarin iOS Guide</a></li> <li><a href=http://unity-certified-associate-guide.peruzal.com/ target=_blank>Unity Game Development Guide</a></li> <li><a href=https://josephkandi.gitbooks.io/mysql-5-6-database-administration-certification-g/content/ target=_blank>MySQL Database Adminstration Guide</a></li> <li><a href=https://josephkandi.gitbooks.io/learn-java-by-developing-an-android-app/content/ target=_blank>Java Programming Guide</a></li> </ul> </div> </div> <div class=md-footer-meta__inner style="background-color: rgba(0,0,0,.87)"> <div style="text-align: center; font-size: 0.7rem"> <div class=md-footer-copyright__highlight> <a href=https://www.peruzal.com target=_blank>Copyright &copy 2019 - Peruzal</a> </div> </div> </div> </div> </footer> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-40772582-8"></script> <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-40772582-8');
</script> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6342782466521705",
          enable_page_level_ads: true
     });
</script> </div> <script src=../assets/javascripts/application.245445c6.js></script> <script>app.initialize({version:"1.0.4",url:{base:".."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> <script src=../assets/js/utils.js></script> <script src=../assets/js/mixpanel.js></script> <script src=../assets/js/track.js></script> <script src=../assets/js/drift.js></script> </body> </html>