<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=https://github.com/Peruzal/xamarin-android-guide/activities/ rel=canonical><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../images/favicon.ico><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.0"><title>Activities - Xamarin Android Guide - Peruzal</title><link rel=stylesheet href=../assets/stylesheets/application.0284f74d.css><link rel=stylesheet href=../assets/stylesheets/application-palette.01803549.css><meta name=theme-color content=#fb8c00><script src=../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=orange> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#android-activities tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://github.com/Peruzal/xamarin-android-guide title="Xamarin Android Guide - Peruzal" class="md-header-nav__button md-logo"> <img src=../images/logo.png width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Xamarin Android Guide - Peruzal </span> <span class=md-header-nav__topic> Activities </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/Peruzal/xamarin-android-guide/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> Github </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://github.com/Peruzal/xamarin-android-guide title="Xamarin Android Guide - Peruzal" class="md-nav__button md-logo"> <img src=../images/logo.png width=48 height=48> </a> Xamarin Android Guide - Peruzal </label> <div class=md-nav__source> <a href=https://github.com/Peruzal/xamarin-android-guide/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> Github </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../hello-xamarin-android/ title="Hello Xamarin.Android" class=md-nav__link> Hello Xamarin.Android </a> </li> <li class=md-nav__item> <a href=../android-components/ title="Android Components" class=md-nav__link> Android Components </a> </li> <li class=md-nav__item> <a href=../android-views/ title="Android Views" class=md-nav__link> Android Views </a> </li> <li class=md-nav__item> <a href=../common-views/ title="Common Views" class=md-nav__link> Common Views </a> </li> <li class=md-nav__item> <a href=../menus/ title=Menus class=md-nav__link> Menus </a> </li> <li class=md-nav__item> <a href=../app-resources/ title="App Resources" class=md-nav__link> App Resources </a> </li> <li class=md-nav__item> <a href=../layouts/ title=Layouts class=md-nav__link> Layouts </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Activities </label> <a href=./ title=Activities class="md-nav__link md-nav__link--active"> Activities </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#activities title=Activities class=md-nav__link> Activities </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-activities title="Creating activities" class=md-nav__link> Creating activities </a> </li> <li class=md-nav__item> <a href=#create-the-activity title="Create the activity" class=md-nav__link> Create the activity </a> </li> <li class=md-nav__item> <a href=#implement-the-ui title="Implement the UI" class=md-nav__link> Implement the UI </a> </li> <li class=md-nav__item> <a href=#associate-the-activity-with-the-layout-file title="Associate the activity with the layout file" class=md-nav__link> Associate the activity with the layout file </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#intents title=Intents class=md-nav__link> Intents </a> </li> <li class=md-nav__item> <a href=#intent-types title="Intent types" class=md-nav__link> Intent types </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#starting-activities-with-explicit-intents title="Starting activities with explicit intents" class=md-nav__link> Starting activities with explicit intents </a> </li> <li class=md-nav__item> <a href=#manually-closing-an-activity title="Manually closing an activity" class=md-nav__link> Manually closing an activity </a> </li> <li class=md-nav__item> <a href=#passing-data-between-activities title="Passing data between activities" class=md-nav__link> Passing data between activities </a> </li> <li class=md-nav__item> <a href=#passing-data-using-intent-uri title="Passing data using Intent uri" class=md-nav__link> Passing data using Intent uri </a> </li> <li class=md-nav__item> <a href=#passing-data-with-intent-extras title="Passing data with Intent extras" class=md-nav__link> Passing data with Intent extras </a> </li> <li class=md-nav__item> <a href=#add-the-extra-data title="Add the extra data" class=md-nav__link> Add the extra data </a> </li> <li class=md-nav__item> <a href=#using-the-bundle title="Using the Bundle" class=md-nav__link> Using the Bundle </a> </li> <li class=md-nav__item> <a href=#getting-data-from-an-activity title="Getting data from an activity" class=md-nav__link> Getting data from an activity </a> </li> <li class=md-nav__item> <a href=#start-the-result title="Start the result" class=md-nav__link> Start the result </a> </li> <li class=md-nav__item> <a href=#retrieving-the-passed-data title="Retrieving the passed data" class=md-nav__link> Retrieving the passed data </a> </li> <li class=md-nav__item> <a href=#activity-navigation title="Activity navigation" class=md-nav__link> Activity navigation </a> </li> <li class=md-nav__item> <a href=#back-navigation-tasks-and-the-back-stack title="Back navigation, tasks and the back stack" class=md-nav__link> Back navigation, tasks and the back stack </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tasks title=Tasks class=md-nav__link> Tasks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#up-navigation title="Up navigation" class=md-nav__link> Up navigation </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implementing-up-navigation title="Implementing up navigation" class=md-nav__link> Implementing up navigation </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implement-back-using-activity-attribute title="Implement back using [Activity] attribute" class=md-nav__link> Implement back using [Activity] attribute </a> </li> <li class=md-nav__item> <a href=#implementing-up-using-the-metadata title="Implementing up using the [MetaData]" class=md-nav__link> Implementing up using the [MetaData] </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#activity-life-cycle title="Activity life cycle" class=md-nav__link> Activity life cycle </a> </li> <li class=md-nav__item> <a href=#activity-life-cycle-and-callback-methods title="Activity life cycle and callback methods" class=md-nav__link> Activity life cycle and callback methods </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../recyclerview/ title=RecyclerView class=md-nav__link> RecyclerView </a> </li> <li class=md-nav__item> <a href=../navigation/ title=Navigation class=md-nav__link> Navigation </a> </li> <li class=md-nav__item> <a href=../fragments/ title=Fragments class=md-nav__link> Fragments </a> </li> <li class=md-nav__item> <a href=../dialogs/ title="Dialogs and Pickers" class=md-nav__link> Dialogs and Pickers </a> </li> <li class=md-nav__item> <a href=../common-intents/ title="Common Intents" class=md-nav__link> Common Intents </a> </li> <li class=md-nav__item> <a href=../networking/ title=Networking class=md-nav__link> Networking </a> </li> <li class=md-nav__item> <a href=../permissions/ title=Permissions class=md-nav__link> Permissions </a> </li> <li class=md-nav__item> <a href=../persistence/ title=Persistence class=md-nav__link> Persistence </a> </li> <li class=md-nav__item> <a href=../styles-and-themes/ title="Styles and Themes" class=md-nav__link> Styles and Themes </a> </li> <li class=md-nav__item> <a href=../animations/ title=Animation class=md-nav__link> Animation </a> </li> <li class=md-nav__item> <a href=../notifications/ title=Notifications class=md-nav__link> Notifications </a> </li> <li class=md-nav__item> <a href=../broadcast-receivers/ title="Broadcast Receivers" class=md-nav__link> Broadcast Receivers </a> </li> <li class=md-nav__item> <a href=../services/ title=Services class=md-nav__link> Services </a> </li> <li class=md-nav__item> <a href=../scheduling-alarms/ title="Scheduling Alarms" class=md-nav__link> Scheduling Alarms </a> </li> <li class=md-nav__item> <a href=../maps-and-location/ title="Maps and Location" class=md-nav__link> Maps and Location </a> </li> <li class=md-nav__item> <a href=../testing/ title=Testing class=md-nav__link> Testing </a> </li> <li class=md-nav__item> <a href=../third-party-libraries/ title="Third Party Libraries" class=md-nav__link> Third Party Libraries </a> </li> <li class=md-nav__item> <a href=../deployment/ title=Deployment class=md-nav__link> Deployment </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#activities title=Activities class=md-nav__link> Activities </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-activities title="Creating activities" class=md-nav__link> Creating activities </a> </li> <li class=md-nav__item> <a href=#create-the-activity title="Create the activity" class=md-nav__link> Create the activity </a> </li> <li class=md-nav__item> <a href=#implement-the-ui title="Implement the UI" class=md-nav__link> Implement the UI </a> </li> <li class=md-nav__item> <a href=#associate-the-activity-with-the-layout-file title="Associate the activity with the layout file" class=md-nav__link> Associate the activity with the layout file </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#intents title=Intents class=md-nav__link> Intents </a> </li> <li class=md-nav__item> <a href=#intent-types title="Intent types" class=md-nav__link> Intent types </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#starting-activities-with-explicit-intents title="Starting activities with explicit intents" class=md-nav__link> Starting activities with explicit intents </a> </li> <li class=md-nav__item> <a href=#manually-closing-an-activity title="Manually closing an activity" class=md-nav__link> Manually closing an activity </a> </li> <li class=md-nav__item> <a href=#passing-data-between-activities title="Passing data between activities" class=md-nav__link> Passing data between activities </a> </li> <li class=md-nav__item> <a href=#passing-data-using-intent-uri title="Passing data using Intent uri" class=md-nav__link> Passing data using Intent uri </a> </li> <li class=md-nav__item> <a href=#passing-data-with-intent-extras title="Passing data with Intent extras" class=md-nav__link> Passing data with Intent extras </a> </li> <li class=md-nav__item> <a href=#add-the-extra-data title="Add the extra data" class=md-nav__link> Add the extra data </a> </li> <li class=md-nav__item> <a href=#using-the-bundle title="Using the Bundle" class=md-nav__link> Using the Bundle </a> </li> <li class=md-nav__item> <a href=#getting-data-from-an-activity title="Getting data from an activity" class=md-nav__link> Getting data from an activity </a> </li> <li class=md-nav__item> <a href=#start-the-result title="Start the result" class=md-nav__link> Start the result </a> </li> <li class=md-nav__item> <a href=#retrieving-the-passed-data title="Retrieving the passed data" class=md-nav__link> Retrieving the passed data </a> </li> <li class=md-nav__item> <a href=#activity-navigation title="Activity navigation" class=md-nav__link> Activity navigation </a> </li> <li class=md-nav__item> <a href=#back-navigation-tasks-and-the-back-stack title="Back navigation, tasks and the back stack" class=md-nav__link> Back navigation, tasks and the back stack </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tasks title=Tasks class=md-nav__link> Tasks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#up-navigation title="Up navigation" class=md-nav__link> Up navigation </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implementing-up-navigation title="Implementing up navigation" class=md-nav__link> Implementing up navigation </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implement-back-using-activity-attribute title="Implement back using [Activity] attribute" class=md-nav__link> Implement back using [Activity] attribute </a> </li> <li class=md-nav__item> <a href=#implementing-up-using-the-metadata title="Implementing up using the [MetaData]" class=md-nav__link> Implementing up using the [MetaData] </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#activity-life-cycle title="Activity life cycle" class=md-nav__link> Activity life cycle </a> </li> <li class=md-nav__item> <a href=#activity-life-cycle-and-callback-methods title="Activity life cycle and callback methods" class=md-nav__link> Activity life cycle and callback methods </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/Peruzal/xamarin-android-guide/edit/master/docs/activities.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=android-activities>Android Activities<a class=headerlink href=#android-activities title="Permanent link">&para;</a></h1> <p>In this chapter you learn about the <code>Activity</code> class, the major building block of your app's user interface (UI). You also learn about using an <code>Intent</code> to communicate from one activity to another.</p> <h2 id=activities>Activities<a class=headerlink href=#activities title="Permanent link">&para;</a></h2> <p>An <code>activity</code> represents a single screen in your app with an interface the user can interact with. An email app for example might contain several Activities:</p> <ul> <li>Message Activity</li> <li>Compose Activity</li> <li>Settings Activity</li> </ul> <p><img alt="Email app activities" src=../images/email-app-activities.png></p> <p>Your app is made up of a collection of activities that you create yourself, or that you reuse from other apps.</p> <ul> <li>In an app, they should be one Activity designated as the main activity. This is the Activity that is started by Android.</li> <li>An Activity can start another activity</li> <li>Each time a new activity is started, the previous activity is stopped and put in a back stack. The system maintains the previous activity state.</li> <li>The activity is notified of each state by the system using life cycle methods.</li> </ul> <h3 id=creating-activities>Creating activities<a class=headerlink href=#creating-activities title="Permanent link">&para;</a></h3> <p>To implement an <code>Activity</code> in your app, do the following:</p> <ul> <li>Create a class that inherits from the <code>AppCompatActivity</code> or <code>Activity</code></li> <li>Implement a basic UI for the Activity in an XML layout file.</li> <li>Decorate the class with the <code>[ActivityAttribute]</code></li> </ul> <h3 id=create-the-activity>Create the activity<a class=headerlink href=#create-the-activity title="Permanent link">&para;</a></h3> <p>To create an Activity in Visual Studio, <strong>Add New</strong> file, choose <strong>Android</strong> and choose <strong>Activity</strong> and give a name to the class.</p> <p>When you create a new activity from the wizard, you get the code as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=na>[Activity(Label = &quot;ChatActivity&quot;)]</span>
<span class=k>public</span> <span class=k>class</span> <span class=nc>ChatActivity</span> <span class=p>:</span> <span class=n>Activity</span>
<span class=p>{</span>
    <span class=k>protected</span> <span class=k>override</span> <span class=k>void</span> <span class=nf>OnCreate</span><span class=p>(</span><span class=n>Bundle</span> <span class=n>savedInstanceState</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>base</span><span class=p>.</span><span class=n>OnCreate</span><span class=p>(</span><span class=n>savedInstanceState</span><span class=p>);</span>
        <span class=c1>// Create your application here</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p><code>[Activity(Label = "ChatActivity")]</code> decorates the class as an Android activity and generates the required xml tags in the <code>AndroidManifest.xml</code> file.</p> <div class="admonition info"> <p class=admonition-title>Use <code>AppCompatActivity</code> for backward compatibility</p> <p>For the app to be backward compatible, its recommended to derive your activity class <code>AppCompatActivity</code> instead of <code>Activity</code></p> </div> <p>!!! question "What is the OnCreate" method? The <code>OnCreate</code> method is a required life cycle method that is called when the activity is created. You setup the layout file for the activity in this method.</p> <h3 id=implement-the-ui>Implement the UI<a class=headerlink href=#implement-the-ui title="Permanent link">&para;</a></h3> <p>Create the UI xml layout file for the activity in the <strong>Resources</strong> -&gt; <strong>layout</strong> folder. In Visual Studio, use the <strong>Add New</strong> file menu to add a new Android layout file.</p> <div class="admonition info"> <p class=admonition-title>Naming conventions</p> <p>You should adopt a naming convention for your layout files. Generally for the activity, you should start with <code>activity_</code> prefix, e.g for the compose activity, the layout file should be called <code>activity_compose.axml</code>.</p> </div> <h3 id=associate-the-activity-with-the-layout-file>Associate the activity with the layout file<a class=headerlink href=#associate-the-activity-with-the-layout-file title="Permanent link">&para;</a></h3> <p>Once the layout file is created, use the <code>SetContentView</code> method in the <code>OnCreate</code> method of the activity as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>protected</span> <span class=k>override</span> <span class=k>void</span> <span class=nf>OnCreate</span><span class=p>(</span><span class=n>Bundle</span> <span class=n>savedInstanceState</span><span class=p>)</span>
<span class=p>{</span>
<span class=hll>    <span class=k>base</span><span class=p>.</span><span class=n>OnCreate</span><span class=p>(</span><span class=n>savedInstanceState</span><span class=p>);</span>
</span>    <span class=n>SetContentView</span><span class=p>(</span><span class=n>Resource</span><span class=p>.</span><span class=n>Layout</span><span class=p>.</span><span class=n>activity_compose</span><span class=p>);</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>The <code>SetContentView</code> takes in an resource id. Remember the layout file is referenced using the <code>Resource.Layout.&lt;layout-name&gt;</code> class.</p> <h2 id=intents>Intents<a class=headerlink href=#intents title="Permanent link">&para;</a></h2> <p>Each activity is started or activated with an <code>Intent</code>, which is a message object that makes a request to the Android runtime to start an activity or other app component in your app or in some other app.</p> <p>When your app is first started from the device home screen, the Android runtime sends an <code>Intent</code> to your app to start your app's main activity (the one defined with the <code>MAIN</code> action and the <code>LAUNCHER</code> category in the <code>AndroidManifest.xml</code> file). This is the <code>Activity</code> with the <code>MainLauncher = true</code> set.</p> <p>To start another activity in your app, or to request that some other activity available on the device perform an action, you build your own intent and call the <code>StartActivity()</code> method to send the intent</p> <p>In addition to starting an activity, an intent can also be used to pass data between one activity and another. When you create an intent to start a new activity, you can include information about the data you want that new activity to operate on.</p> <h2 id=intent-types>Intent types<a class=headerlink href=#intent-types title="Permanent link">&para;</a></h2> <p>Intents can be explicit or implicit:</p> <ul> <li><strong>Explicit intent</strong>: Used to start activities using their fully qualified name.</li> <li><strong>Implicit intent</strong>: Used to start activities without specifying the fully qualified name. The system will use the default registered activity or show options to choose th activity.</li> </ul> <h3 id=starting-activities-with-explicit-intents>Starting activities with explicit intents<a class=headerlink href=#starting-activities-with-explicit-intents title="Permanent link">&para;</a></h3> <p>To start an activity from another activity, you use the explicit intent, e.g the following will start the <code>ChatActivity</code> from <code>MainActivity</code>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// Create intent with the type of the Activity</span>
<span class=n>Intent</span> <span class=n>intent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>typeof</span><span class=p>(</span><span class=n>ChatActivity</span><span class=p>));</span>

<span class=c1>// Start the activity</span>
<span class=n>StartActivity</span><span class=p>(</span><span class=n>intent</span><span class=p>);</span>
</pre></div> </td></tr></table> <p>The first line creates the intent, passing <code>this</code> as the <code>Context</code>. Then the second line starts the activity.</p> <div class="admonition question"> <p class=admonition-title>What is <code>Context</code></p> <p>Context is the class that contains the runtime information about the environment in which the activity is running in. An activity inherits from <code>Context</code> so we can pass in this whn the context is required.</p> </div> <details class=question><summary>What starts the activity?</summary><p>Android uses a process called the <code>ActivityManager</code> to run the activity. When you call <code>StartActivity</code> the information in the intent is sent to the <code>ActivityManager</code>. You can also call activity manually from the command line using <code>adb am</code></p> </details> <h3 id=manually-closing-an-activity>Manually closing an activity<a class=headerlink href=#manually-closing-an-activity title="Permanent link">&para;</a></h3> <p>The started <code>Activity</code> remains on the screen until the user taps the <kbd>Back</kbd> button on the device, at which time that <code>Activity</code> closes and is reclaimed by the system, and the originating <code>Activity</code> is resumed. </p> <p>When can also close the <code>Activity</code> by using the <code>Finish</code> method as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>private</span> <span class=k>void</span> <span class=nf>CloseActivity</span><span class=p>()</span>
<span class=p>{</span>
    <span class=n>Finish</span><span class=p>();</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=passing-data-between-activities>Passing data between activities<a class=headerlink href=#passing-data-between-activities title="Permanent link">&para;</a></h3> <p>You can also pass on data when you start an activity. They are two ways to pass data to the called activity:</p> <ul> <li>Set data as a <code>URI</code></li> <li>Pass data using <code>Intent</code> extras</li> </ul> <h3 id=passing-data-using-intent-uri>Passing data using Intent uri<a class=headerlink href=#passing-data-using-intent-uri title="Permanent link">&para;</a></h3> <p>The Intent uri can only hold one piece of information, the URI representing the location of the data you want to operate on. The following code passes the telephone number to the <code>ChatActivity</code> as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Intent</span> <span class=n>intent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>typeof</span><span class=p>(</span><span class=n>ChatActivity</span><span class=p>));</span>
<span class=n>intent</span><span class=p>.</span><span class=n>SetData</span><span class=p>(</span><span class=n>Android</span><span class=p>.</span><span class=n>Net</span><span class=p>.</span><span class=n>Uri</span><span class=p>.</span><span class=n>Parse</span><span class=p>(</span><span class=s>&quot;tel:0114804898&quot;</span><span class=p>));</span>
<span class=n>StartActivity</span><span class=p>(</span><span class=n>intent</span><span class=p>);</span>
</pre></div> </td></tr></table> <p>The <code>SetData</code> method takes in the uri.</p> <p>On the called activity, you can retrieve the uri using the <code>Data</code> property on the <code>Intent</code> property as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// This is in the called Activity</span>
<span class=k>if</span><span class=p>(</span><span class=n>Intent</span><span class=p>.</span><span class=n>Data</span> <span class=p>!=</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>Log</span><span class=p>.</span><span class=n>Debug</span><span class=p>(</span><span class=n>TAG</span><span class=p>,</span> <span class=err>$</span><span class=s>&quot;{Intent.Data}&quot;</span><span class=p>);</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=passing-data-with-intent-extras>Passing data with <code>Intent</code> extras<a class=headerlink href=#passing-data-with-intent-extras title="Permanent link">&para;</a></h3> <p>In the first (sending) Activity, you:</p> <ul> <li>Create the Intent object.</li> <li>Put data or extras into that Intent.</li> <li>Start the new <code>Activity</code> with <code>StartActivity()</code>.</li> </ul> <p>In the second (receiving) <code>Activity</code>, you:</p> <ul> <li>Get the Intent object the <code>Activity</code> was started with.</li> <li>Retrieve the data or extras from the <code>Intent</code> property.</li> </ul> <h3 id=add-the-extra-data>Add the extra data<a class=headerlink href=#add-the-extra-data title="Permanent link">&para;</a></h3> <p>We can either create a <code>Bundle</code> or pass the extras directly to the intent object. The following code passes the extra as single fields:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Intent</span> <span class=n>intent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>typeof</span><span class=p>(</span><span class=n>ChatActivity</span><span class=p>));</span>
<span class=n>intent</span><span class=p>.</span><span class=n>PutExtra</span><span class=p>(</span><span class=n>EXTRA_USERNAME</span><span class=p>,</span> <span class=s>&quot;codeguru&quot;</span><span class=p>);</span>
<span class=n>intent</span><span class=p>.</span><span class=n>PutExtra</span><span class=p>(</span><span class=n>EXTRA_USERNAME</span><span class=p>,</span> <span class=s>&quot;Hi there!&quot;</span><span class=p>);</span>
<span class=n>StartActivity</span><span class=p>(</span><span class=n>intent</span><span class=p>);</span>
</pre></div> </td></tr></table> <p>We also defined the constants in the <code>MainActivity</code> as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>public</span> <span class=k>static</span> <span class=k>readonly</span> <span class=kt>string</span> <span class=n>EXTRA_USERNAME</span> <span class=p>=</span> <span class=s>&quot;com.peruzal.praat.USERNAME&quot;</span><span class=p>;</span>
<span class=k>public</span> <span class=k>static</span> <span class=k>readonly</span> <span class=kt>string</span> <span class=n>EXTRA_NEW_MESSAGE</span> <span class=p>=</span> <span class=s>&quot;com.peruzal.praat.NEW_MESSAGE&quot;</span><span class=p>;</span>
</pre></div> </td></tr></table> <p>You can pass serializable data with the <code>PutExtra</code> method. To retrive the data on the called activity with use the <code>Intent</code> object as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>if</span><span class=p>(</span><span class=n>Intent</span><span class=p>.</span><span class=n>HasExtra</span><span class=p>(</span><span class=n>MainActivity</span><span class=p>.</span><span class=n>EXTRA_USERNAME</span><span class=p>))</span> <span class=p>{</span>
    <span class=kt>var</span> <span class=n>username</span> <span class=p>=</span> <span class=n>Intent</span><span class=p>.</span><span class=n>GetStringExtra</span><span class=p>(</span><span class=n>MainActivity</span><span class=p>.</span><span class=n>EXTRA_USERNAME</span><span class=p>)</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <div class="admonition info"> <p class=admonition-title>Passing complex objects</p> <p>To pass complex objects with the intent, you can use <code>Newtonsoft</code> JSON. First convert the data into json and deserialize on the called activity. Alternatively you will have to implement the <code>Serializable</code> interaface. Its easy to serialize and deserialize from json.</p> </div> <h3 id=using-the-bundle>Using the <code>Bundle</code><a class=headerlink href=#using-the-bundle title="Permanent link">&para;</a></h3> <p>You can put all the extras in the <code>Bundle</code> and the then use the <code>PutExtras</code> method to add the bundle to the intent as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Intent</span> <span class=n>intent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>typeof</span><span class=p>(</span><span class=n>ChatActivity</span><span class=p>));</span>

<span class=c1>// Create a bundle object</span>
<span class=n>Bundle</span> <span class=n>bundle</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Bundle</span><span class=p>();</span>

<span class=c1>// Add the extras</span>
<span class=n>bundle</span><span class=p>.</span><span class=n>PutString</span><span class=p>(</span><span class=n>EXTRA_USERNAME</span><span class=p>,</span> <span class=s>&quot;codeguru&quot;</span><span class=p>);</span>
<span class=n>bundle</span><span class=p>.</span><span class=n>PutString</span><span class=p>(</span><span class=n>EXTRA_NEW_MESSAGE</span><span class=p>,</span> <span class=s>&quot;Hi there&quot;</span><span class=p>);</span>
<span class=n>intent</span><span class=p>.</span><span class=n>PutExtras</span><span class=p>(</span><span class=n>bundle</span><span class=p>);</span>
<span class=n>StartActivity</span><span class=p>(</span><span class=n>intent</span><span class=p>);</span>
</pre></div> </td></tr></table> <p>Get the data in the called activity:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>if</span><span class=p>(</span><span class=n>Intent</span><span class=p>.</span><span class=n>Extras</span> <span class=p>!=</span> <span class=k>null</span><span class=p>)</span>
<span class=p>{</span>
    <span class=kt>var</span> <span class=n>username</span> <span class=p>=</span> <span class=n>Intent</span><span class=p>.</span><span class=n>Extras</span><span class=p>.</span><span class=n>GetString</span><span class=p>(</span><span class=n>MainActivity</span><span class=p>.</span><span class=n>EXTRA_USERNAME</span><span class=p>);</span>
    <span class=n>Log</span><span class=p>.</span><span class=n>Debug</span><span class=p>(</span><span class=n>TAG</span><span class=p>,</span> <span class=n>username</span><span class=p>);</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=getting-data-from-an-activity>Getting data from an activity<a class=headerlink href=#getting-data-from-an-activity title="Permanent link">&para;</a></h3> <p>You can get data from the called activity. Here are the steps:</p> <ul> <li>Start the activity with the <code>StartActivityForResult()</code> method instead of <code>StartActivity</code></li> <li>Create a new <code>Intent</code> in the launched started activity and return the data in the <code>Intent</code></li> <li>Implement the <code>OnActivityResult</code> in the calling activity to process the returned data</li> </ul> <h3 id=start-the-result>Start the result<a class=headerlink href=#start-the-result title="Permanent link">&para;</a></h3> <p>You need to specify a request code when you launch the activity for result:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Intent</span> <span class=n>intent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>typeof</span><span class=p>(</span><span class=n>ChatActivity</span><span class=p>));</span>
<span class=n>StartActivityForResult</span><span class=p>(</span><span class=n>intent</span><span class=p>,</span> <span class=n>USERNAME_REQUEST</span><span class=p>);</span>
</pre></div> </td></tr></table> <p>The <code>USERNAME_REQUEST</code> is defines a field</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>private</span> <span class=k>readonly</span> <span class=kt>int</span> <span class=n>USERNAME_REQUEST</span> <span class=p>=</span> <span class=m>100</span><span class=p>;</span>
</pre></div> </td></tr></table> <p>In the called activity we will add the following code:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>btnDone</span><span class=p>.</span><span class=n>Click</span> <span class=p>+=</span> <span class=k>delegate</span> <span class=p>{</span>
    <span class=kt>var</span> <span class=n>editUsername</span> <span class=p>=</span> <span class=n>FindViewById</span><span class=p>&lt;</span><span class=n>EditText</span><span class=p>&gt;(</span><span class=n>Resource</span><span class=p>.</span><span class=n>Id</span><span class=p>.</span><span class=n>edit_message</span><span class=p>);</span>
    <span class=kt>var</span> <span class=n>username</span> <span class=p>=</span> <span class=n>editUsername</span><span class=p>.</span><span class=n>Text</span><span class=p>;</span>

    <span class=n>Intent</span> <span class=n>intent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=p>();</span>
    <span class=n>intent</span><span class=p>.</span><span class=n>PutExtra</span><span class=p>(</span><span class=s>&quot;USERNAME&quot;</span><span class=p>,</span> <span class=n>username</span><span class=p>);</span>

    <span class=n>SetResult</span><span class=p>(</span><span class=n>Result</span><span class=p>.</span><span class=n>Ok</span><span class=p>,</span> <span class=n>intent</span><span class=p>);</span>
    <span class=n>Finish</span><span class=p>();</span>
<span class=p>};</span>
</pre></div> </td></tr></table> <p>In the above, we have a done button thats wired to a click event. Within the event, we find the edit text and get the username.</p> <p>We use the username and pass it as the data to the intent. We then use the <code>SetResult</code> method, set the result to be OK and pass in the intent object.</p> <h3 id=retrieving-the-passed-data>Retrieving the passed data<a class=headerlink href=#retrieving-the-passed-data title="Permanent link">&para;</a></h3> <p>To retrieve the returned data we use the <code>OnActivityResult</code> result method and get the data from the intent. The <code>OnActivityResult</code> is used to receive data from other activites, so we need to check if the request code matches first and also is the result was not cancelled as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>protected</span> <span class=k>override</span> <span class=k>void</span> <span class=nf>OnActivityResult</span><span class=p>(</span><span class=kt>int</span> <span class=n>requestCode</span><span class=p>,</span> <span class=p>[</span><span class=n>GeneratedEnum</span><span class=p>]</span> <span class=n>Result</span> <span class=n>resultCode</span><span class=p>,</span> <span class=n>Intent</span> <span class=n>data</span><span class=p>)</span>
<span class=p>{</span>
    <span class=k>base</span><span class=p>.</span><span class=n>OnActivityResult</span><span class=p>(</span><span class=n>requestCode</span><span class=p>,</span> <span class=n>resultCode</span><span class=p>,</span> <span class=n>data</span><span class=p>);</span>

    <span class=c1>// Check if its the same request code used to start the acitivity</span>
    <span class=k>if</span><span class=p>(</span><span class=n>requestCode</span> <span class=p>==</span> <span class=n>USERNAME_REQUEST</span> <span class=p>&amp;&amp;</span> <span class=n>resultCode</span> <span class=p>==</span> <span class=n>Result</span><span class=p>.</span><span class=n>Ok</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=c1>// Check if the key is in the bundle</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>HasExtra</span><span class=p>(</span><span class=s>&quot;USERNAME&quot;</span><span class=p>))</span>
        <span class=p>{</span>
            <span class=kt>var</span> <span class=n>username</span> <span class=p>=</span> <span class=n>data</span><span class=p>.</span><span class=n>GetStringExtra</span><span class=p>(</span><span class=s>&quot;USERNAME&quot;</span><span class=p>);</span>
            <span class=n>Log</span><span class=p>.</span><span class=n>Debug</span><span class=p>(</span><span class=n>TAG</span><span class=p>,</span> <span class=n>username</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=activity-navigation>Activity navigation<a class=headerlink href=#activity-navigation title="Permanent link">&para;</a></h3> <p>Any app of any complexity that you build will include more than one <code>Activity</code>. As your users move around your app and from one <code>Activity</code> to another, consistent navigation becomes more important to the app's user experience. Few things frustrate users more than basic navigation that behaves in inconsistent and unexpected ways. Thoughtfully designing your app's navigation will make using your app predictable and reliable for your users.</p> <p>Android system supports two different forms of navigation strategies for your app.</p> <ul> <li><strong>Back (temporal) navigation</strong>, provided by the device Back button, and the back stack.</li> <li><strong>Up (ancestral) navigation</strong>, provided by you as an option in the app bar.</li> </ul> <h3 id=back-navigation-tasks-and-the-back-stack>Back navigation, tasks and the back stack<a class=headerlink href=#back-navigation-tasks-and-the-back-stack title="Permanent link">&para;</a></h3> <p>Back navigation allows your users to return to the previous Activity by tapping the device back button. Back navigation is also called temporal navigation because the back button navigates the history of recently viewed screens, in reverse chronological order.</p> <p>The back stack is the set of each Activity that the user has visited and that can be returned to by the user with the back button. Each time a new Activity starts, it is pushed onto the back stack and takes user focus. The previous Activity is stopped but is still available in the back stack. </p> <p><img alt="Back stack navigation" src=../images/diagram_backstack.png></p> <p>Because an app can start an Activity both inside and outside a single app, the back stack contains each Activity that has been launched by the user in reverse order. Each time the user presses the Back button, each Activity in the stack is popped off to reveal the previous one, until the user returns to the Home screen.</p> <h4 id=tasks>Tasks<a class=headerlink href=#tasks title="Permanent link">&para;</a></h4> <p>Android provides a back stack for each <code>task</code>. A <code>task</code> is an organizing concept for each Activity the user interacts with when performing an operation, whether they are inside your app or across multiple apps. Most tasks start from the Android home screen, and tapping an app icon starts a task (and a new back stack) for that app. If the user uses an app for a while, taps home, and starts a new app, that new app launches in its own task and has its own back stack. </p> <p>If the user returns to the first app, that first task's back stack returns. Navigating with the Back button returns only to the Activity in the current task, not for all tasks running on the device. Android enables the user to navigate between tasks with the overview or recent tasks screen, accessible with the square button on lower right corner of the device.</p> <p><img alt="Recents screen" src=../images/overview-screen.png></p> <div class="admonition info"> <p class=admonition-title>Managing tasks</p> <p>In most cases you don't have to worry about managing either tasks or the back stack for your app—the system keeps track of these things for you, and the back button is always available on the device.</p> <p>There may, however, be times where you may want to override the default behavior for tasks or for the back stack. </p> </div> <h2 id=up-navigation>Up navigation<a class=headerlink href=#up-navigation title="Permanent link">&para;</a></h2> <p>Up navigation, sometimes referred to as ancestral or logical navigation, is used to navigate within an app based on the explicit hierarchical relationships between screens.</p> <p>With Up navigation, each <code>Activity</code> is arranged in a hierarchy, and each "child" <code>Activity</code> shows a left-facing arrow in the app bar Up button (in app bar) that returns the user to the "parent" <code>Activity</code>. The topmost <code>Activity</code> in the hierarchy is usually <code>MainActivity</code>, and the user cannot go up from there.</p> <p><img alt="Up navigation" src=../images/up_navigation_in_app_bar_cropped.png></p> <p>For instance, if the main <code>Activity</code> in an email app is a list of all messages, selecting a message launches a second <code>Activity</code> to display that single email. In this case the message <code>Activity</code> would provide an Up button that returns to the list of messages.</p> <h3 id=implementing-up-navigation>Implementing up navigation<a class=headerlink href=#implementing-up-navigation title="Permanent link">&para;</a></h3> <p>There two ways to implement the up navigation:</p> <ul> <li>Using [Activity(Parent = "")]</li> <li>Using the [MetaData()] attribute</li> </ul> <div class="admonition info"> <p class=admonition-title>MetaData supports backward compatibility</p> <p>Using the <code>MetaData</code> supports backward compatibility on older Android devices. Its recommended to use both methods to create a consistent up navigation experience.</p> </div> <h4 id=implement-back-using-activity-attribute>Implement back using <code>[Activity]</code> attribute<a class=headerlink href=#implement-back-using-activity-attribute title="Permanent link">&para;</a></h4> <p>Decorate the descendant activity with the <code>[Activity]</code> and specify the <code>Parent</code> type as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=na>[Activity(Label = &quot;ChatActivity&quot;,  Theme = &quot;@style/AppTheme&quot;, ParentActivity = typeof(MainActivity)]</span>
<span class=k>public</span> <span class=k>class</span> <span class=nc>ChatActivity</span> <span class=p>:</span> <span class=n>AppCompatActivity</span>
<span class=p>{</span> <span class=p>...</span> <span class=p>}</span>
</pre></div> </td></tr></table> <p>The <code>ParentActivity = typeof(MainActivity)</code> specifies that <code>MainActivity</code> is the parent of the <code>ChatActivity</code>. In the <code>AndroidManifest.xml</code> file the following will be generated:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nt>&lt;activity</span> 
    <span class=na>android:label=</span><span class=s>&quot;ChatActivity&quot;</span> 
    <span class=na>android:parentActivityName=</span><span class=s>&quot;com.peruzal.helloworld.MainActivity&quot;</span> 
    <span class=na>android:theme=</span><span class=s>&quot;@style/AppTheme&quot;</span> 
    <span class=na>android:name=</span><span class=s>&quot;md5982a942979eaad736ab55d3d1d394dbb.ChatActivity&quot;</span> <span class=nt>/&gt;</span>
</pre></div> </td></tr></table> <h4 id=implementing-up-using-the-metadata>Implementing up using the <code>[MetaData]</code><a class=headerlink href=#implementing-up-using-the-metadata title="Permanent link">&para;</a></h4> <p>To use the <code>[MetaData]</code> attribute you should give the parent activity a name using <code>Name</code> in the <code>[Activity]</code>. The name should be fully qualified as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=na>[Activity( Name = &quot;com.peruzal.helloworld.MainActivity&quot;, ...)]</span>
</pre></div> </td></tr></table> <p>then in the descendant activity, e.g the <code>ChatActivity</code> is the child of the <code>MainActivity</code> as follows:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=na>[Activity(Label = &quot;ChatActivity&quot;,  Theme = &quot;@style/AppTheme&quot;, ParentActivity = typeof(MainActivity))]</span>
<span class=na>[MetaData(&quot;android.support.PARENT_ACTIVITY&quot;, Value = &quot;com.peruzal.helloworld.MainActivity&quot;)]</span>
<span class=k>public</span> <span class=k>class</span> <span class=nc>ChatActivity</span> <span class=p>:</span> <span class=n>AppCompatActivity</span>
<span class=p>{...}</span>
</pre></div> </td></tr></table> <div class="admonition caution"> <p class=admonition-title>Meta attribute name</p> <p>The name should be exactly be <code>android.support.PARENT_ACTIVITY</code> and the value be the fully qualified name of the activity. The back button will not show if the name does not match <code>android.support.PARENT_ACTIVITY</code>.</p> </div> <p><img alt="Up Button Implementation" src=../images/up-button-implementation.png></p> <h2 id=activity-life-cycle>Activity life cycle<a class=headerlink href=#activity-life-cycle title="Permanent link">&para;</a></h2> <p>The activity lifecycle is the set of states an activity can be in during its entire lifetime, from the time it's created to when it's destroyed and the system reclaims its resources. </p> <p><img alt="Activity stack" src=../images/activity-stack.png></p> <h2 id=activity-life-cycle-and-callback-methods>Activity life cycle and callback methods<a class=headerlink href=#activity-life-cycle-and-callback-methods title="Permanent link">&para;</a></h2> <p>When an Activity transitions into and out of the different lifecycle states as it runs, the Android system calls several lifecycle callback methods at each stage. All of the callback methods are hooks that you can override in each of your Activity classes to define how that Activity behaves when the user leaves and re-enters the Activity.</p> <p><img alt="Life cycle methods" src=../images/basic-lifecycle.png></p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../layouts/ title=Layouts class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Layouts </span> </div> </a> <a href=../recyclerview/ title=RecyclerView class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> RecyclerView </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset" style="background-color: #ff9900; color: #fff"> <div class=md-grid style="display: flex;"> <div style="flex: 1;"> <h2>Consulting</h2> <ul style="list-style: none; margin-left: -15px;"> <li><a href=https://www.peruzal.com/mobile-app-development target=_blank>Mobile App Development</a></li> <li><a href=https://www.peruzal.com/mobile-app-device-security-and-penetration-testing target=_blank>Mobile App Security and Penetration Testing</a></li> <li><a href=https://www.peruzal.com/database-and-web-application-performance-tuning-and-consulting target=_blank>Database Performance Tuning</a></li> </ul> </div> <div style="flex: 1;"> <h2>Training</h2> <ul style="list-style: none; margin-left: -15px;"> <li><a href=https://training.peruzal.com/courses/mobile/android-mobile-app-development-training-certification target=_blank>Android Mobile App Development Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/ios-mobile-app-development-training-with-swift target=_blank>iOS Mobile App Development Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/xamarin/xamarin-forms-mobile-app-development-training target=_blank>Xamarin Forms Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/xamarin/android-mobile-app-development-training-with-xamarin target=_blank>Xamarin Android Training</a></li> <li><a href=https://training.peruzal.com/courses/mobile/xamarin/ios-mobile-app-development-training-with-xamarin target=_blank>Xamarin iOS Training</a></li> <li><a href=https://training.peruzal.com/courses/web/reactjs-front-end-web-application-development target=_blank>ReactJS Training</a></li> <li><a href=https://training.peruzal.com/courses/web/reactjs-front-end-web-application-development target=_blank>React Native Training</a></li> <li><a href=https://training.peruzal.com/courses/gaming/unity-certified-game-development-training-south-africa target=_blank>Unity Game Development Training</a></li> <li><a href=https://training.peruzal.com/courses/database/mysql-database-administration-training-certification-south-africa target=_blank>MySQL Database Adminstration Training</a></li> <li><a href=https://training.peruzal.com/courses/programming/java-programming-training-certification target=_blank>Java Programming Training</a></li> <li><a href=https://training.peruzal.com/courses/programming/ruby-programming-training-certification target=_blank>Ruby Programming Training</a></li> </ul> </div> <div style="flex: 1"> <h2>Resources</h2> <ul style="list-style: none; margin-left: -15px;"> <li><a href=http://guides.peruzal.com/xamarin-forms-guide target=_blank>Xamarin Forms Guide</a></li> <li><a href=http://guides.peruzal.com/v1/android-guides target=_blank>Android Development Guides</a></li> <li><a href=http://guides.peruzal.com/xamarin-ios target=_blank>iOS Development Guides</a></li> <li><a href=http://xamarin-android-guide.peruzal.com/ target=_blank>Xamarin Android Guides</a></li> <li><a href=http://xamarin-ios-guide.peruzal.com/ target=_blank>Xamarin iOS Guide</a></li> <li><a href=http://unity-certified-associate-guide.peruzal.com/ target=_blank>Unity Game Development Guide</a></li> <li><a href=https://josephkandi.gitbooks.io/mysql-5-6-database-administration-certification-g/content/ target=_blank>MySQL Database Adminstration Guide</a></li> <li><a href=https://josephkandi.gitbooks.io/learn-java-by-developing-an-android-app/content/ target=_blank>Java Programming Guide</a></li> </ul> </div> </div> <div class=md-footer-meta__inner style="background-color: rgba(0,0,0,.87)"> <div style="text-align: center; font-size: 0.7rem"> <div class=md-footer-copyright__highlight> <a href=https://www.peruzal.com target=_blank>Copyright &copy 2019 - Peruzal</a> </div> </div> </div> </div> </footer> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-40772582-8"></script> <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-40772582-8');
</script> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6342782466521705",
          enable_page_level_ads: true
     });
</script> </div> <script src=../assets/javascripts/application.245445c6.js></script> <script>app.initialize({version:"1.0.4",url:{base:".."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> <script src=../assets/js/utils.js></script> <script src=../assets/js/mixpanel.js></script> <script src=../assets/js/track.js></script> <script src=../assets/js/drift.js></script> </body> </html>